define(["cbj","configbox/configurator"],function(a,f){var k={init:function(){cbrequire(["cbj.spectrum"],function(){a(document).on("click",".question.type-colorpicker .trigger-show-colorpicker, .question.type-colorpicker .color-picker-output",function(){!0!==a(this).closest(".question.type-colorpicker").hasClass("non-applying-question")&&a(this).closest(".question.type-colorpicker").find(".wrapper-flat-spectrum").slideToggle()});a(document).on("keyup",".cb-spectrum .sp-input",function(){var d=a(this).val();
7===d.length&&a(".sp-active").closest(".question.type-colorpicker").find(".color-picker-input").spectrum("set",d).trigger("change")})})},initEach:function(){cbrequire(["cbj.spectrum"],function(){a(".question.type-colorpicker .spectrum-input").each(function(){a(this).hasClass("initialized")||(a(this).addClass("initialized"),a(this).spectrum({flat:!0,showInput:!0,showInitial:!1,allowEmpty:!1,showAlpha:!1,disabled:!1,showPalette:!0,showPaletteOnly:!1,togglePaletteOnly:!1,showSelectionPalette:!0,clickoutFiresChange:!0,
cancelText:"",chooseText:"",containerClassName:"cb-spectrum",replacerClassName:"cb-replacer form-control",preferredFormat:"hex",change:function(d){var b=a(this).closest(".question.type-colorpicker").data("questionId");d=d.toHexString();a(this).closest(".question.type-colorpicker").find(".color-picker-output").css("background-color",d);f.sendSelectionToServer(b,d)},move:function(d){var b=a(this);k.timeout=k.timeout||null;k.timeout&&window.clearTimeout(k.timeout);k.timeout=window.setTimeout(function(){a(b).closest(".question.type-colorpicker").find(".color-picker-output").css("background-color",
d.toHexString());var c=a(b).closest(".question.type-colorpicker").data("questionId"),e=d.toHexString();f.sendSelectionToServer(c,e)},400)}}))})})},onSystemSelectionChange:function(d,b,c){a("#question-"+b).find(".spectrum-input").spectrum("set",c);a("#question-"+b).find(".color-picker-output").css("background-color",c)},onQuestionActivation:function(a,b){},onQuestionDeactivation:function(d,b){a("#question-"+b).find(".color-picker-output").css("background-color","transparent");a("#question-"+b).find(".wrapper-flat-spectrum").slideUp()},
onAnswerActivation:function(a,b,c){},onAnswerDeactivation:function(a,b,c){},onValidationChange:function(a,b,c){},onValidationMessageShown:function(d,b,c){a("#question-"+b).find(".form-group").addClass("has-error");a("#question-"+b).find(".validation-message-target").html(c).show()},onValidationMessageCleared:function(d,b){a("#question-"+b).find(".form-group").removeClass("has-error");a("#question-"+b).find(".validation-message-target").html("").hide()}},h={init:function(){},initEach:function(){a(".question.type-textbox").each(function(){if(!a(this).hasClass("initialized")){a(this).addClass("initialized");
var d=a(this).data("questionId");a("#input-question-"+d).on("keyup",function(){var b=a(this);h.timeout=h.timeout||null;h.timeout&&window.clearTimeout(h.timeout);h.timeout=window.setTimeout(function(){f.sendSelectionToServer(d,b.val())},400)})}})},onSystemSelectionChange:function(d,b,c){a("#input-question-"+b).val(c)},onQuestionActivation:function(d,b){a("#input-question-"+b).prop("disabled",!1)},onQuestionDeactivation:function(d,b){a("#input-question-"+b).prop("disabled",!0).val("")},onAnswerActivation:function(a,
b){},onAnswerDeactivation:function(a,b,c){},onValidationChange:function(a,b,c){},onValidationMessageShown:function(d,b,c){a("#question-"+b).find(".form-group").addClass("has-error");a("#question-"+b).find(".validation-message-target").html(c).show()},onValidationMessageCleared:function(d,b){a("#question-"+b).find(".form-group").removeClass("has-error");a("#question-"+b).find(".validation-message-target").html("").hide()}},l={init:function(){},initEach:function(){a(".question.type-textarea").each(function(){if(!a(this).hasClass("initialized")){a(this).addClass("initialized");
var d=a(this).data("questionId");a("#input-question-"+d).on("keyup",function(){var b=a(this);l.timeout=l.timeout||null;l.timeout&&window.clearTimeout(l.timeout);l.timeout=window.setTimeout(function(){f.sendSelectionToServer(d,b.val())},400)})}})},onSystemSelectionChange:function(d,b,c){a("#input-question-"+b).val(c)},onQuestionActivation:function(d,b){a("#input-question-"+b).prop("disabled",!1)},onQuestionDeactivation:function(d,b){a("#input-question-"+b).prop("disabled",!0).val("")},onAnswerActivation:function(a,
b){},onAnswerDeactivation:function(a,b,c){},onValidationChange:function(a,b,c){},onValidationMessageShown:function(d,b,c){a("#question-"+b).find(".form-group").addClass("has-error");a("#question-"+b).find(".validation-message-target").html(c).show()},onValidationMessageCleared:function(d,b){a("#question-"+b).find(".form-group").removeClass("has-error");a("#question-"+b).find(".validation-message-target").html("").hide()}},n={init:function(){},initEach:function(){cbrequire(["cbj.ui"],function(){cbrequire(["cbj.touchpunch"],
function(){a(".question.type-slider").each(function(){if(!a(this).hasClass("initialized")){a(this).addClass("initialized");var d=a(this),b=d.data("questionId"),c={slide:function(d,c){a("#input-question-"+b).val(c.value)},change:function(c,e){a("#input-question-"+b).val(e.value);e.value!=d.data("selection")&&f.sendSelectionToServer(b,e.value)},animate:!0,value:d.data("selection")};if(1==f.getQuestionPropValue(b,"validate")){var e=f.getQuestionPropValue(b,"minval"),g=f.getQuestionPropValue(b,"maxval");
null!==e&&(c.min=parseFloat(e));null!==g&&(c.max=parseFloat(g))}e=parseFloat(f.getQuestionPropValue(b,"slider_steps"));"number"===typeof e&&0!==e&&(c.step=e);0!==a(this).find("#cb-slider-"+b).length&&(a(this).find("#cb-slider-"+b)[0].slide=null);a(this).find("#cb-slider-"+b).slider(c);a("#input-question-"+b).keyup(function(){var d=a(this),c=d.val(),e=a("#cb-slider-"+b);d.removeClass("invalid");"undefined"!==typeof n.timeout&&window.clearTimeout(n.timeout);n.timeout=window.setTimeout(function(){var a=
f.getQuestionPropValue(b,"minval"),g=f.getQuestionPropValue(b,"maxval");!0===isNaN(parseFloat(c))?d.addClass("invalid"):(null!==a&&(a=parseFloat(a)),null!==g&&(g=parseFloat(g)),c=parseFloat(c),null!==a&&c<a?d.addClass("invalid"):null!==g&&c>g?d.addClass("invalid"):e.slider("value",parseFloat(c)))},500)})}})})})},onSystemSelectionChange:function(d,b,c){!1!==a("#question-"+b).is(".type-slider")&&(c=null===c||""===c?0:Number(c),0!==c||!1!==f.getQuestionPropValue(b,"applies"))&&(d=Number(a("#cb-slider-"+
b).slider("value")),c!==d&&a("#cb-slider-"+b).slider("value",c))},onQuestionActivation:function(a,b){},onQuestionDeactivation:function(a,b){},onAnswerActivation:function(a,b,c){},onAnswerDeactivation:function(a,b,c){},onValidationChange:function(a,b,c){},onValidationMessageShown:function(d,b,c){a("#question-"+b).find(".form-group").addClass("has-error");a("#question-"+b).find(".validation-message-target").html(c).show()},onValidationMessageCleared:function(d,b){a("#question-"+b).find(".form-group").removeClass("has-error");
a("#question-"+b).find(".validation-message-target").html("").hide()}},p={init:function(){a(document).on("click",".question.type-upload .trigger-remove-file",function(){a(this).closest(".question").find(".upload-current-file").removeClass("has-file");a(this).closest(".question").find(".upload-current-file .file-name").text("");a(this).closest(".question").data("file-contents","");a(this).closest(".question").data("file-url","");var d=a(this).closest(".question").data("questionId");f.sendSelectionToServer(d,
"")});a(document).on("click",".question.type-upload .trigger-show-file-browser",function(){a(this).closest(".question").find('input[type="file"]').click()});a(document).on("change",".question.type-upload input[type=file]",function(){a(this).closest(".question").find(".upload-drop-zone").trigger("drop")});a(document).on("cbSelectionChange",p.onSystemSelectionChange)},initEach:function(){a(".question.type-upload").each(function(){if(!a(this).hasClass("initialized")){a(this).addClass("initialized");
var d=a(this),b=a(this).data("questionId"),c=a("#question-"+b+" .upload-drop-zone");c.on("drag dragstart dragend dragover dragenter dragleave drop",function(a){a.preventDefault();a.stopPropagation()}).on("dragover dragenter",function(){!1===d.hasClass("non-applying-question")&&c.addClass("is-dragover")}).on("dragleave dragend drop",function(){c.removeClass("is-dragover")}).on("drop",function(e){if(!d.hasClass("non-applying-question")){var g;g=e.originalEvent&&e.originalEvent.dataTransfer?e.originalEvent.dataTransfer.files:
a("#question-"+b+" input[type=file]")[0].files;if(1!==g.length)p.onValidationMessageShown(null,b,"Please upload one file only.");else{p.onValidationMessageCleared(null,b);var m=new window.FileReader;m.addEventListener("load",function(){d.data("file-contents",m.result);d.data("file-url",m.result)},!1);m.readAsDataURL(g[0]);var q=new FormData;e={option:"com_configbox",controller:"configuratorpage",task:"makeSelection",format:"json",questionId:b,selection:JSON.stringify({name:g[0].name,size:g[0].size,
type:g[0].type}),confirmed:!1,cart_position_id:f.getCartPositionId(),productId:f.getProductId(),pageId:f.getPageId()};for(var k in e)e.hasOwnProperty(k)&&q.append(k,e[k]);q.append("file",g[0]);var h=new XMLHttpRequest;h.addEventListener("progress",function(a){a=Math.min(100,Math.floor((a.position||a.loaded)/g[0].size*1E3)/10);c.find(".drop-zone-percentage").text(a+"%");c.find(".drop-zone-progress").css("width",a+"%")},!1);h.addEventListener("readystatechange",function(){if(h.readyState===XMLHttpRequest.DONE){var d=
JSON.parse(h.responseText);if("undefined"===typeof d.error||""===d.error)a("#question-"+b+" .upload-current-file").addClass("has-file"),a("#question-"+b+" .upload-current-file .file-list").show().find(".file-name").text(g[0].name);a(document).trigger("serverResponseReceived",[d])}});cbrequire(["configbox/server"],function(a){h.open("post",a.config.urlXhr,!0);h.send(q)})}}})}})},onSystemSelectionChange:function(d,b,c){!1!==a("#question-"+b).is(".type-upload")&&(c?a("#question-"+b).data("selection",
JSON.parse(c)):(a("#question-"+b).data("file-contents",""),a("#question-"+b).data("file-url",""),a("#question-"+b+" .upload-current-file").removeClass("has-file"),a("#question-"+b+" .upload-current-file .file-name").text("")))},onQuestionActivation:function(d,b){a("#question-"+b+" .trigger-show-file-browser").prop("disabled",!1);a("#question-"+b+" .upload-current-file").removeClass("has-file");a("#question-"+b+" .upload-current-file .file-name").text("")},onQuestionDeactivation:function(d,b){a("#question-"+
b+" .upload-current-file").removeClass("has-file");a("#question-"+b+" .upload-current-file .file-name").text("");a("#question-"+b+" .trigger-show-file-browser").prop("disabled",!0)},onAnswerActivation:function(a,b){},onAnswerDeactivation:function(a,b,c){},onValidationChange:function(a,b,c){},onValidationMessageShown:function(d,b,c){a("#question-"+b).find(".form-group").addClass("has-error");a("#question-"+b).find(".validation-message-target").html(c).show()},onValidationMessageCleared:function(d,
b){a("#question-"+b).find(".form-group").removeClass("has-error");a("#question-"+b).find(".validation-message-target").html("").hide()}};f.registerQuestion("calendar",{init:function(){},initEach:function(){cbrequire(["cbj.ui"],function(){a(".question.type-calendar").each(function(){if(!a(this).hasClass("initialized")){a(this).addClass("initialized");var d=a(this).data("questionId"),b=a(this),c=a(this).data("selection"),e={showOn:"button",dateFormat:"yy-mm-dd",altField:"#output-helper-"+d,altFormat:f.getConfiguratorData("dateFormat"),
minDate:f.getQuestionPropValue(d,"minval"),maxDate:f.getQuestionPropValue(d,"maxval"),onSelect:function(b){window.setTimeout(function(){a("#question-"+d).find(".form-control-static").text(a("#output-helper-"+d).val())},200);f.sendSelectionToServer(d,b)},beforeShow:function(d,c){var e=b[0].getBoundingClientRect();window.setTimeout(function(){c.dpDiv.css({top:e.top+a(c.dpDiv).height(),left:e.left})},1)}};a(this).find("#input-"+d).datepicker(e).datepicker("setDate",c);a(this).find(".trigger-show-calendar").on("click",
function(){a(this).closest(".question").hasClass("non-applying-question")||a("#input-"+d).datepicker("show")})}})})},onSystemSelectionChange:function(d,b,c){!1!==a("#question-"+b).is(".type-calendar")&&a("#input-"+b).datepicker("setDate",c)},onQuestionActivation:function(a,b){},onQuestionDeactivation:function(d,b){a("#input-"+b).datepicker("setDate",null);a("#input-"+b).datepicker("refresh");window.setTimeout(function(){a("#question-"+b).find(".form-control-static").text(a("#output-helper-"+b).val())},
200)},onAnswerActivation:function(a,b,c){},onAnswerDeactivation:function(a,b,c){},onValidationChange:function(d,b,c){a(".input-"+b).datepicker("option","minDate",c.minval);a(".input-"+b).datepicker("option","maxDate",c.maxval);a(".input-"+b).datepicker("refresh")},onValidationMessageShown:function(a,b,c){},onValidationMessageCleared:function(a,b){}});f.registerQuestion("colorpicker",k);f.registerQuestion("ralcolorpicker",{init:function(){a(document).on("click",".ral-color-picker-output",function(){a(this).closest(".question").find(".trigger-show-ralcolorpicker").trigger("click")});
a(document).on("click",".trigger-show-ralcolorpicker",function(){var d=a(this).closest(".question");d.hasClass("applying-question")&&cbrequire(["cbj.bootstrap"],function(){d.find(".modal").modal()})});a(document).on("click",".close-modal",function(){var d=a(this).closest(".question");cbrequire(["cbj.bootstrap"],function(){d.find(".modal").modal("hide")})});a(document).on("change","select.ral-color-group",function(){var d=parseInt(a(this).val());!0===isNaN(d)&&(d=0);a(this).closest(".question").data("selection-group-id",
d);0===d?a(this).closest(".question").find(".ral-color").show():(a(this).closest(".question").find(".ral-color").hide(),a(this).closest(".question").find('.ral-color[data-group-id="'+d+'"]').show())});a(document).on("click",".ral-color-item",function(){var d=a(this).closest(".ral-color"),b="RAL "+d.data("color-id"),c=d.data("hex"),e=d.data("group-id"),g=a(this).hasClass("is-dark"),h=a(this).closest(".question"),k=h.data("question-id");h.data("selection-group-id",e);h.find(".ral-color-input").val(b);
e=h.find(".ral-color-picker-output");e.css("background-color",c);g?e.addClass("is-dark"):e.removeClass("is-dark");e.text(d.find("a").text());cbrequire(["cbj.bootstrap"],function(){h.find(".modal").modal("hide")});f.sendSelectionToServer(k,b)})},initEach:function(){},onSystemSelectionChange:function(d,b,c){b=a("#question-"+b);if("ralcolorpicker"===b.data("question-type"))if(d=b.find(".ral-color-picker-output"),c){c=c.split(" ")[1];var e=b.find('.modal .ral-color[data-color-id="'+c+'"]');c=e.data("hex");
b=e.find("a").text();e=e.find("a").hasClass("is-dark");d.css("background-color",c);d.removeClass("is-dark");e&&d.addClass("is-dark");d.text(b)}else d.css("background-color","transparent"),d.text("")},onQuestionActivation:function(a,b){},onQuestionDeactivation:function(a,b){},onAnswerActivation:function(a,b,c){},onAnswerDeactivation:function(a,b,c){},onValidationChange:function(a,b,c){},onValidationMessageShown:function(d,b,c){a("#question-"+b).find(".form-group").addClass("has-error");a("#question-"+
b).find(".validation-message-target").html(c).show()},onValidationMessageCleared:function(d,b){a("#question-"+b).find(".form-group").removeClass("has-error");a("#question-"+b).find(".validation-message-target").html("").hide()}});f.registerQuestion("checkbox",{init:function(){a(document).on("change",".question.type-checkbox input[type=checkbox]",function(){var d=a(this).closest(".question").data("question-id"),b=a(this).closest(".answer"),c=!0===a(this).prop("checked")?a(this).val():"";c?b.addClass("selected"):
b.removeClass("selected");f.sendSelectionToServer(d,c)})},initEach:function(){},onSystemSelectionChange:function(d,b,c){!1!==a("#question-"+b).is(".type-checkbox")&&(d=!(""===c||0===c||null===c),a("#answer-input-"+c).prop("checked",d))},onQuestionActivation:function(d,b){a("#question-"+b+" input[type=checkbox]").prop("disabled",!1)},onQuestionDeactivation:function(d,b){a("#question-"+b+" input[type=checkbox]").prop("checked",!0).prop("disabled",!0)},onAnswerActivation:function(d,b,c){a("#answer-input-"+
c).prop("disabled",!1)},onAnswerDeactivation:function(d,b,c){a("#answer-input-"+c).prop("disabled",!0).prop("checked",!1)},onValidationChange:function(a,b,c){},onValidationMessageShown:function(d,b,c){a("#question-"+b).find(".form-group").addClass("has-error");a("#question-"+b).find(".validation-message-target").html(c).show()},onValidationMessageCleared:function(d,b){a("#question-"+b).find(".form-group").removeClass("has-error");a("#question-"+b).find(".validation-message-target").html("").hide()}});
f.registerQuestion("choices",{init:function(){a(".question.type-choices").each(function(){if(!a(this).hasClass("initialized")){a(this).addClass("initialized");var d=a(this).data("questionId");a(document).on("change","#question-"+d+" .configbox-choice-field",function(){var b=a(this).val();!1!==a(this).prop("checked")&&(a(this).closest(".radio").addClass("selected").siblings().removeClass("selected"),a("#question-"+d+" .configbox-choice-custom-field").val(""),f.sendSelectionToServer(d,b))});a("#question-"+
d+" .configbox-choice-custom-field").data("lastVal",a("#question-"+d+" .configbox-choice-custom-field").val());a(document).on("keyup","#question-"+d+" .configbox-choice-custom-field",function(){var b=a("#question-"+d+" .configbox-choice-custom-field").data("lastVal"),c=a(this).val();c!==b&&(a("#question-"+d+" input[type=radio").prop("checked",!1).closest("radio"),c?a(this).closest(".radio").find("input[type=radio]").prop("checked",!0):a("#question-"+d+" input[type=radio").prop("checked",!1),f.sendSelectionToServer(d,
c))})}})},initEach:function(){},onSystemSelectionChange:function(d,b,c){!1!==a("#question-"+b).is(".type-choices")&&(""!==c&&0!==c&&null!==c?a("#question-"+b+' .configbox-choice-field[value="'+c+'"]').length?(a("#question-"+b+' .configbox-choice-field[value="'+c+'"]').prop("checked",!0),a("#question-"+b+" .configbox-choice-custom-field").val(""),a("#question-"+b+' .configbox-choice-field[value="'+c+'"]').closest(".radio").addClass("selected").siblings().removeClass("selected")):(a("#question-"+b+
" .configbox-choice-field").prop("checked",!1),a("#question-"+b+" .configbox-choice-custom-field").val(c),a("#question-"+b+" .configbox-choice-custom-field").closest(".radio").find("input[type=radio]").prop("checked",!0)):(a("#question-"+b+" .configbox-choice-free-field").val(""),a("#question-"+b+" .input[type=radio]").prop("checked",!1)))},onQuestionActivation:function(d,b){a("#question-"+b+" input").prop("disabled",!1)},onQuestionDeactivation:function(d,b){a("#question-"+b+" input").prop("disabled",
!0);a("#question-"+b+" input[type=text]").val("")},onAnswerActivation:function(a,b,c){},onAnswerDeactivation:function(a,b,c){},onValidationChange:function(d,b,c){a("#question-"+b+" .configbox-choice-field").each(function(){var b=a(this).val();null!==c.minval&&b<c.minval||null!==c.maxval&&b>c.maxval?a(this).prop("disabled",!0):a(this).prop("disabled",!1)})},onValidationMessageShown:function(d,b,c){a("#question-"+b).find(".form-group").addClass("has-error");a("#question-"+b).find(".validation-message-target").html(c).show()},
onValidationMessageCleared:function(d,b){a("#question-"+b).find(".form-group").removeClass("has-error");a("#question-"+b).find(".validation-message-target").html("").hide()}});f.registerQuestion("dropdown",{init:function(){a(document).on("click",".configbox-dropdown-trigger",function(){a(this).toggle();a(this).closest(".question").find(".configbox-dropdown").toggle()});a(document).on("click",function(d){"undefined"===typeof d.target||a(d.target).is(".configbox-dropdown-trigger")||0!==a(d.target).closest(".configbox-dropdown-trigger").length||
(a(".configbox-dropdown:visible").closest(".question").find(".configbox-dropdown-trigger").show(),a(".configbox-dropdown").hide())});a(document).on("change",".question.type-dropdown .answer input",function(){var d=a(this).closest(".question").data("questionId"),b=a(this).closest(".answer").clone();b.find("input").remove();a(this).closest(".question").find(".configbox-dropdown-trigger").empty().append(b.find("label")).append(b.find(".answer-price-display"));a(this).closest(".configbox-dropdown").hide();
a(this).closest(".question").find(".configbox-dropdown-trigger").show();b=a(this).val();a("#answer-"+b).addClass("selected").siblings().removeClass("selected");f.sendSelectionToServer(d,b)});a(".question.type-dropdown").each(function(){a(this).data("triggerDefault",a(this).find(".configbox-dropdown-trigger").clone(!1));if(a(this).find(".selected").length){var d=a(this).find(".selected").clone();d.find("input").remove();a(this).find(".configbox-dropdown-trigger").empty().append(d.find("label")).append(d.find(".answer-price-display"))}})},
initEach:function(){},onSystemSelectionChange:function(d,b,c){!1!==a("#question-"+b).is(".type-dropdown")&&(null===c||0===c||"0"===c?(a("#question-"+b).find(".answer").removeClass("selected"),a("#question-"+b).find(".configbox-dropdown-trigger").replaceWith(a("#question-"+b).data("triggerDefault"))):(c=parseInt(c),a("#answer-input-"+c).prop("checked",!0),c?(a("#answer-"+c).addClass("selected").siblings().removeClass("selected"),d=a("#answer-"+c).clone(),d.find("input").remove(),a("#question-"+b).find(".configbox-dropdown-trigger").empty().append(d.find("label")).append(d.find(".answer-price-display"))):
(a("#answer-"+c).removeClass("selected"),a("#question-"+b).find(".configbox-dropdown-trigger").replaceWith(a("#question-"+b).data("triggerDefault")))))},onQuestionActivation:function(d,b){a("#question-"+b+" input[type=radio]").prop("disabled",!1)},onQuestionDeactivation:function(d,b){a("#question-"+b+" input[type=radio]").prop("checked",!0).prop("disabled",!0)},onAnswerActivation:function(d,b,c){a("#answer-input-"+c).prop("disabled",!1)},onAnswerDeactivation:function(d,b,c){a("#answer-input-"+c).prop("disabled",
!0).prop("checked",!1)},onValidationChange:function(a,b,c){},onValidationMessageShown:function(d,b,c){a("#question-"+b).find(".form-group").addClass("has-error");a("#question-"+b).find(".validation-message-target").html(c).show()},onValidationMessageCleared:function(d,b){a("#question-"+b).find(".form-group").removeClass("has-error");a("#question-"+b).find(".validation-message-target").html("").hide()}});f.registerQuestion("images",{init:function(){a(document).on("change",".question.type-images input[type=radio]",
function(){if(!1!==a(this).prop("checked")){var d=a(this).closest(".question").data("question-id"),b=a(this).closest(".answer"),c=parseInt(a(this).val());b.addClass("selected").siblings().removeClass("selected");f.sendSelectionToServer(d,c)}})},initEach:function(){},onSystemSelectionChange:function(d,b,c){!1!==a("#question-"+b).is(".type-images")&&(null===c||0===c||"0"===c?(a("#question-"+b).find(".answer").removeClass("selected"),a("#question-"+b).find(".answer input[type=radio]").prop("checked",
!1)):(c=parseInt(c),a("#answer-"+c).addClass("selected").siblings().removeClass("selected"),a("#answer-input-"+c).prop("checked",!0)))},onQuestionActivation:function(d,b){a("#question-"+b+" input[type=radio]").prop("disabled",!1)},onQuestionDeactivation:function(d,b){a("#question-"+b+" input[type=radio]").prop("checked",!0).prop("disabled",!0)},onAnswerActivation:function(d,b,c){a("#answer-input-"+c).prop("disabled",!1)},onAnswerDeactivation:function(d,b,c){a("#answer-input-"+c).prop("disabled",!0).prop("checked",
!1)},onValidationChange:function(a,b,c){},onValidationMessageShown:function(d,b,c){a("#question-"+b).find(".form-group").addClass("has-error");a("#question-"+b).find(".validation-message-target").html(c).show()},onValidationMessageCleared:function(d,b){a("#question-"+b).find(".form-group").removeClass("has-error");a("#question-"+b).find(".validation-message-target").html("").hide()}});f.registerQuestion("radiobuttons",{init:function(){a(document).on("change",".question.type-radiobuttons input[type=radio]",
function(){if(!1!==a(this).prop("checked")){var d=a(this).closest(".question").data("question-id"),b=a(this).closest(".answer"),c=parseInt(a(this).val());b.addClass("selected").siblings().removeClass("selected");f.sendSelectionToServer(d,c)}})},initEach:function(){},onSystemSelectionChange:function(d,b,c){a("#question-"+b).is(".type-radiobuttons")&&(a("#answer-"+c).addClass("selected").siblings().removeClass("selected"),d=!(""===c||0===c||null===c),a("#answer-input-"+c).prop("checked",d))},onQuestionActivation:function(d,
b){a("#question-"+b+" input[type=radio]").prop("disabled",!1)},onQuestionDeactivation:function(d,b){a("#question-"+b+" input[type=radio]").prop("checked",!1).prop("disabled",!0)},onAnswerActivation:function(d,b,c){a("#answer-input-"+c).prop("disabled",!1)},onAnswerDeactivation:function(d,b,c){a("#answer-"+c).removeClass("selected");a("#answer-input-"+c).prop("disabled",!0).prop("checked",!1)},onValidationChange:function(a,b,c){},onValidationMessageShown:function(d,b,c){a("#question-"+b).find(".form-group").addClass("has-error");
a("#question-"+b).find(".validation-message-target").html(c).show()},onValidationMessageCleared:function(d,b){a("#question-"+b).find(".form-group").removeClass("has-error");a("#question-"+b).find(".validation-message-target").html("").hide()}});f.registerQuestion("slider",n);f.registerQuestion("textbox",h);f.registerQuestion("textarea",l);f.registerQuestion("upload",p)});
