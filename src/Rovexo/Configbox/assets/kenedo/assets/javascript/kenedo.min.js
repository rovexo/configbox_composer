var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(c,l,f){c instanceof String&&(c=String(c));for(var k=c.length,p=0;p<k;p++){var a=c[p];if(l.call(f,a,p,c))return{i:p,v:a}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,l,f){if(c==Array.prototype||c==Object.prototype)return c;c[l]=f.value;return c};$jscomp.getGlobal=function(c){c=["object"==typeof globalThis&&globalThis,c,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var l=0;l<c.length;++l){var f=c[l];if(f&&f.Math==Math)return f}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(c,l){var f=$jscomp.propertyToPolyfillSymbol[l];if(null==f)return c[l];f=c[f];return void 0!==f?f:c[l]};
$jscomp.polyfill=function(c,l,f,k){l&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(c,l,f,k):$jscomp.polyfillUnisolated(c,l,f,k))};$jscomp.polyfillUnisolated=function(c,l,f,k){f=$jscomp.global;c=c.split(".");for(k=0;k<c.length-1;k++){var p=c[k];if(!(p in f))return;f=f[p]}c=c[c.length-1];k=f[c];l=l(k);l!=k&&null!=l&&$jscomp.defineProperty(f,c,{configurable:!0,writable:!0,value:l})};
$jscomp.polyfillIsolated=function(c,l,f,k){var p=c.split(".");c=1===p.length;k=p[0];k=!c&&k in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var a=0;a<p.length-1;a++){var b=p[a];if(!(b in k))return;k=k[b]}p=p[p.length-1];f=$jscomp.IS_SYMBOL_NATIVE&&"es6"===f?k[p]:null;l=l(f);null!=l&&(c?$jscomp.defineProperty($jscomp.polyfills,p,{configurable:!0,writable:!0,value:l}):l!==f&&(void 0===$jscomp.propertyToPolyfillSymbol[p]&&($jscomp.propertyToPolyfillSymbol[p]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(p):
$jscomp.POLYFILL_PREFIX+p),$jscomp.defineProperty(k,$jscomp.propertyToPolyfillSymbol[p],{configurable:!0,writable:!0,value:l})))};$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(l,f){return $jscomp.findInternal(this,l,f).v}},"es6","es3");
define(["cbj","configbox/server"],function(c,l){var f={initAdminPageEach:function(a){a.find(".kenedo-listing-form:not(.default-handlers-attached)").each(function(){var b=c(this);b.find(".trigger-kenedo-list-task").each(function(){c(this).on("click",f.onListTaskButtonClicked)});b.on("cbListTaskTriggered",f.onListTaskTriggered);b.on("cbListTaskResponseReceived",f.onListTaskResponseReceived);b.addClass("default-handlers-attached");b.trigger("cbDefaultHandlersAttached")});a.find(".kenedo-details-form:not(.default-handlers-attached)").each(function(){var b=
c(this);b.find(".trigger-kenedo-form-task").each(function(){c(this).on("click",f.onFormTaskButtonClicked)});b.on("cbFormTaskTriggered",f.onFormTaskTriggered);b.on("cbFormTaskResponseReceived",f.onFormTaskResponseReceived);b.addClass("default-handlers-attached");b.trigger("cbDefaultHandlersAttached")})},initAdminPageOnce:function(){c(document).on("click",".kenedo-listing-form .trigger-order-list",f.onChangeListOrder);c(document).on("click",".kenedo-listing-form .trigger-change-page",f.onChangeListPage);
c(document).on("change",".kenedo-listing-form .kenedo-limit-select",f.onChangeListLimit);c(document).on("change",".kenedo-listing-form .listing-filter",f.onChangeListFilters);c(document).on("click",".kenedo-listing-form .trigger-toggle-record-activation",f.onToggleRecordActivation);c(document).on("click",".kenedo-listing-form .kenedo-check-all-items",f.toggleCheckboxes);c(document).on("click",".kenedo-listing-form .listing-link",f.openListingLink);window.addEventListener("popstate",function(a){"undefined"!=
typeof a.state&&null!==a.state&&!0===a.state.isSubview&&(f.loadSubview(a.state.url,a.state.targetSelector,a.state.callbackFunction,!1),a.preventDefault())});c(document).on("focusin",function(a){c(a.target).closest(".tox-tinymce, .tox-tinymce-aux, .moxman-window, .tam-assetmanager-root").length&&a.stopImmediatePropagation()});c(document).on("click",".ajax-target-link",function(a){a.preventDefault();if(!0!==a.shiftKey||!0!==a.metaKey)a=c(this).attr("href"),f.loadSubview(a)});c(document).on("click",
".task-toggle-help",function(){var a=c(this);a.toggleClass("active");a.closest(".kenedo-details-form").toggleClass("show-help")});c(document).on("click",".trigger-open-modal",f.onOpenColorBoxModal);c(document).on("click",".kenedo-new-tab",function(a){window.open(this.href);a.preventDefault()});c(document).on("click",".property-type-translatable .language-switcher",function(){var a=c(this).closest(".kenedo-property");c(this).siblings().removeClass("active");c(this).addClass("active");var b=c(this).attr("for");
a.find("#translation-"+b).show().siblings().hide()});c(document).on("change",".kenedo-property :input",function(){var a=c(this).closest(".kenedo-details-form"),b=c(this).closest(".kenedo-property").attr("id").replace("property-name-",""),e=c(this).val(),d=a.data("record");"undefined"!=typeof d[b]&&(d[b]=e);c(this).closest(".kenedo-details-form").trigger("kenedoFormDataChanged",[d,a])});c(document).on("click",".property-group-using-toggles>.property-group-legend",function(){c(this).closest(".property-group").hasClass("property-group-opened")?
(c(this).closest(".property-group").removeClass("property-group-opened").addClass("property-group-closed"),c(this).closest(".property-group").find(".property-group-toggle-state").val("closed")):(c(this).closest(".property-group").removeClass("property-group-closed").addClass("property-group-opened"),c(this).closest(".property-group").find(".property-group-toggle-state").val("opened"))});c(document).on("click",".show-file-uploader",function(a){a.preventDefault();a=c(this).closest(".property-body").find(".file-upload-field").clone();
c(this).data("inputfield",a);c(this).closest(".property-body").find(".file-uploader").slideDown(300);c(this).closest(".property-body").find(".file-current-file, .file-delete, .file-upload").slideUp(300)});c(document).on("click",".file-upload-cancel",function(a){a.preventDefault();c(this).closest(".property-body").find(".file-uploader").slideUp(300);c(this).closest(".property-body").find(".file-current-file, .file-delete, .file-upload").slideDown(300);a=c(this).closest(".property-body").find(".show-file-uploader").data("inputfield");
c(this).closest(".property-body").find(".file-upload-field").replaceWith(a)});c(document).on("mouseenter",".kenedo-popup-trigger",k.cancelClosing);c(document).on("mouseenter",".kenedo-popup-trigger",k.scheduleOpening);c(document).on("mouseleave",".kenedo-popup-trigger",k.scheduleClosing);c(document).on("mouseleave",".kenedo-popup-trigger",k.cancelOpening);c(document).on("mouseleave",".kenedo-popup",k.scheduleClosing);c(document).on("mouseenter",".kenedo-popup",k.cancelClosing);c(".kenedo-popup-trigger").click(function(a){a.stopPropagation();
a.preventDefault();c(this).trigger("mouseenter")});c(document).on("click",".trigger-select-all-multi",function(){c(this).closest(".kenedo-property").find(".property-body option").prop("selected",!0);c(this).closest(".kenedo-property").find(".property-body input").prop("checked",!0)});c(document).on("click",".trigger-deselect-all-multi",function(){c(this).closest(".kenedo-property").find(".property-body option").prop("selected",!1);c(this).closest(".kenedo-property").find(".property-body input").prop("checked",
!1)})},onChangeListOrder:function(){var a=c(this),b=a.closest(".kenedo-listing-form"),e=a.data("property-name");a=a.data("current-direction");a=""===a||"desc"===a?"asc":"desc";f.setListParameter(b,"listing_order_property_name",e);f.setListParameter(b,"listing_order_dir",a);f.refreshList(b)},onChangeListPage:function(){var a=c(this),b=a.closest(".kenedo-listing-form");a=parseInt(a.data("start"));f.setListParameter(b,"limitstart",a);f.refreshList(b)},onChangeListLimit:function(){var a=c(this),b=a.closest(".kenedo-listing-form");
f.setListParameter(b,"limit",a.val());f.refreshList(b)},onChangeListFilters:function(){var a=c(this).closest(".kenedo-listing-form");f.refreshList(a)},setListParameter:function(a,b,e){a.find(".listing-data[data-key="+b+"]").data("value",e)},getListParameter:function(a,b,e){a=a.find(".listing-data[data-key="+b+"]").data("value");return"undefined"===typeof a?e:a},getListParameters:function(a){var b={};a.find(".listing-data").each(function(){var e=c(this).data("key");b[e]=c(this).data("value")});return b},
getListFilters:function(a){var b={};a.find(".listing-filter").each(function(){var e=c(this).attr("name");b[e]=c(this).val()});return b},getCheckedListItemIds:function(a){var b=[];a.find(".kenedo-item-checkbox").each(function(){!0===c(this).prop("checked")&&b.push(c(this).val())});return b},refreshList:function(a,b){var e=f.getListParameters(a),d=f.getListFilters(a),h=a.closest(".kenedo-view.cb-content"),g={};c.each(e,function(m,r){g[m]=r});c.each(d,function(m,r){g[m]=r});cbrequire(["configbox/server"],
function(m){m.replaceHtml(h,e.controller,e.task,g).done(b)})},refreshForm:function(a,b){var e=f.getFormParameter(a,"controller"),d={id:f.getFormParameter(a,"id"),"return":f.getFormParameter(a,"return")};cbrequire(["tinyMCE"],function(h){3<h.majorVersion&&h.remove()});l.replaceHtml(a.closest(".kenedo-view"),e,"edit",d).done(b)},getFormParameter:function(a,b,e){a=a.find(":input[name="+b+"]").val();return"undefined"===typeof a&&"undefined"!==typeof e?e:a},setFormParameter:function(a,b,e){a.find(":input[name="+
b+"]").val(e)},onFormTaskButtonClicked:function(a){var b=c(this),e=b.data("task"),d=b.closest(".kenedo-details-form"),h=d.data("view");a={btn:b,task:e,form:d,viewName:h,event:a};b.hasClass("disabled")||(b.addClass("disabled"),f.setFormParameter(d,"task",e),d.trigger("cbFormTaskTriggered",a))},onFormTaskTriggered:function(a,b){switch(b.task){case "cancel":if(0<b.form.closest(".modal").length)cbrequire(["cbj.bootstrap"],function(){b.form.closest(".modal").modal("hide").find(".modal-content").html("")});
else if(a=b.form.find("input[name=return]").val())window.location.href=f.base64UrlDecode(a);break;case "store":case "apply":case "storeAndNew":cbrequire(["tinyMCE"],function(e){e.triggerSave();e=new XMLHttpRequest;e.onload=function(){b.form.trigger("cbFormTaskResponseReceived",[this,b])};e.open("post",b.form[0].action,!0);e.send(new FormData(b.form[0]))})}},onFormTaskResponseReceived:function(a,b,e){try{var d=JSON.parse(b.responseText)}catch(g){console.warn('Could not parse JSON response. Response text was: "'+
b.responseText+'"');console.warn("Error message follows:");console.warn(g);return}e.btn.removeClass("disabled");switch(e.task){case "store":if(!1===d.success){f.showResponseMessages(e.form,d.errors||[],d.messages||[]);return}0<e.form.closest(".modal").length?((a=e.form.closest(".modal").data("parent-intra-listing"))&&f.refreshList(a),e.form.closest(".modal").modal("hide").find(".modal-content").html("")):(a=f.base64UrlDecode(f.getFormParameter(e.form,"return")),f.loadSubview(a,null,function(){var g=
c(".kenedo-listing-form").first();f.showResponseMessages(g,d.errors||[],d.messages||[])}));break;case "storeAndNew":f.showResponseMessages(e.form,d.errors||[],d.messages||[]);!0===d.success&&d.data&&d.data.id&&f.setFormParameter(e.form,"id","");(a=e.form.closest(".modal").data("parent-intra-listing"))&&f.refreshList(a);break;case "apply":if(!1===d.success){f.showResponseMessages(e.form,d.errors||[],d.messages||[]);return}!0===d.success&&d.data&&d.data.id&&f.setFormParameter(e.form,"id",d.data.id);
var h=e.form.closest(".kenedo-view").parent();f.refreshForm(e.form,function(){e.form=h.find(".kenedo-details-form").first();f.showResponseMessages(e.form,d.errors||[],d.messages||[])});(a=e.form.closest(".modal").data("parent-intra-listing"))&&f.refreshList(a)}c(document).trigger("cbFormTaskResponseReceivedGlobal",[b,e])},showResponseMessages:function(a,b,e){var d=a.find(".kenedo-messages").first();d.find(".kenedo-messages-error").html("<ul></ul>");d.find(".kenedo-messages-notice").html("<ul></ul>");
0!==b.length&&(c.each(b,function(h,g){d.find(".kenedo-messages-error ul").append("<li>"+g+"</li>")}),d.find(".kenedo-messages-error").show(),d.find(".kenedo-messages-error").addClass("flash"),window.setTimeout(function(){d.find(".kenedo-messages-error").removeClass("flash")},1E3));0!==e.length&&(c.each(e,function(h,g){d.find(".kenedo-messages-notice ul").append("<li>"+g+"</li>")}),d.find(".kenedo-messages-notice").show(),d.find(".kenedo-messages-notice").addClass("flash"),window.setTimeout(function(){d.find(".kenedo-messages-notice").removeClass("flash")},
1E3));(0<e.length||0<b.length)&&d.show()},loadSubview:function(a,b,e,d){var h=b?b:".configbox-ajax-target";if("object"==typeof a)var g=a.value;"string"==typeof a&&""!==a&&(g=a);if(!g)throw"loadSubview called, but no URL could be determined.";void 0!==d&&!1!==d||window.history.pushState({isSubview:!0,url:g,targetSelector:h},"",g);-1===g.indexOf("output_mode")&&("magento"===l.config.platformName||"magento2"===l.config.platformName?g+="output_mode/view_only":(g+=-1===g.indexOf("?")?"?":"&",g+="output_mode=view_only"));
cbrequire(["tinyMCE"],function(m){3<m.majorVersion&&m.remove()});c(h).animate({opacity:".0"},200,function(){c(h).load(g,function(m,r,n){200!==n.status&&(m='<div id="view-error" class="kenedo-view"><div class="kenedo-listing-form"><p>Encountered a system error: HTTP code is '+(n.status+". Text message is: "+n.statusText+"</p>"),m+="</div></div>",c(h).html(m));c(h).animate({opacity:"1"},200,function(){c(document).trigger("cbViewInjected");"function"==typeof e&&e(c(h))})})})},onOpenColorBoxModal:function(a){var b=
c(this);a.preventDefault();var e=b.data("modal-width"),d=b.data("modal-height"),h=b.attr("href");e||(e=900);d||(d=600);cbrequire(["cbj.colorbox"],function(){c.colorbox({transition:"fade",href:h,overlayClose:!0,iframe:!0,fastIframe:!1,className:"cb-modal",width:e,height:d})})},addedStylesheets:[],addStylesheet:function(a){-1===this.addedStylesheets.indexOf(a.toLowerCase())&&(this.addedStylesheets.push(a.toLowerCase()),a='<link rel="stylesheet" type="text/css" href="'+a+'">',c("head").append(a))},subviewReadyFunctions:{},
base64UrlEncode:function(a){return p.encode(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,",")},base64UrlDecode:function(a){a=a.replace(/-/g,"+").replace(/_/g,"/").replace(/,/g,"=");return p.decode(a)},openDetailsFormModal:function(a,b,e,d,h,g,m){var r=c(".view-admin .configbox-modals");if(0<r.find(".intra-listing-modal").length)var n=r.find(".intra-listing-modal");else n=c('<div class="modal intra-listing-modal" tabindex="-1" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content"></div></div></div>'),
n.appendTo(r);n.data("parent-form",b);n.data("parent-intra-listing",a);cbrequire(["cbj","cbj.bootstrap"],function(q){q={id:h};g&&(q["prefill_"+g]=m);l.injectHtml(n.find(".modal-content"),e,d,q,function(){n.modal({keyboard:!1,backdrop:"static"})})})},openListingLink:function(a){a.preventDefault();var b=c(this);if(0<b.closest(".intra-listing").length){a=b.closest(".kenedo-listing-form");var e=b.closest(".kenedo-details-form"),d=b.data("controller"),h=b.data("task");b=b.data("id");var g=f.getListParameter(a,
"foreignKeyField"),m=f.getListParameter(a,"foreignKeyPresetValue");f.openDetailsFormModal(a,e,d,h,b,g,m)}else a=c(this).attr("href"),f.loadSubview(a)},setPropertyVisibility:function(a,b,e){var d={},h,g;b||(b={});e.find(".property-group").each(function(){g=c(this).attr("id");g=g.replace("property-name-","");b[g]=""});for(var m in b)if(b.hasOwnProperty(m)&&(a=e.find(".property-name-"+m),d=a.data("propertyDefinition"))){var r=!0;if(!a.hasClass("invisible-field")){if(d.appliesWhen)for(h in d.appliesWhen)if(d.appliesWhen.hasOwnProperty(h)){var n=
b[h];var q=d.appliesWhen[h];"object"!=typeof q&&(q=[q]);var u=!1;for(var t in q)if(q.hasOwnProperty(t)){var v="is";"string"==typeof q[t]&&"!"===q[t].substr(0,1)&&(q[t]=q[t].substr(1),v="is not");if("is"===v){if("*"===q[t]&&n&&"0"!=n){u=!0;break}if(q[t]==n){u=!0;break}}else{if("*"===q[t]&&(!n||"0"==n)){u=!0;break}if(q[t]!=n){u=!0;break}}}!1===u&&(r=!1)}r?"none"===a.css("display")&&(a.show(),d="undefined"===typeof d["default"]?"":d["default"])&&(n=a.find(":input[name="+m+"]"),n.is("select")?n.val(d).change().trigger("chosen:updated"):
n.is("[type=radio]")?a.find("input[value="+d+"]").prop("checked",!0):n.val(d),n.change(),b[m]=d):"none"!==a.css("display")&&(a.hide(),n=a.find(":input[name="+m+"]"),n.is("select")?(d="undefined"===typeof d["default"]?"0":d["default"],n.val(d).trigger("chosen:updated")):(n.is("[type=radio]")?(d="undefined"===typeof d["default"]?"0":d["default"],a.find("input[value="+d+"]").prop("checked",!0)):(d="undefined"===typeof d["default"]?"":d["default"],n.val(d)),a.hasClass("property-type-translatable")&&a.find(".form-control").val(d).change()),
b[m]=d)}}},onToggleRecordActivation:function(){var a=c(this),b=a.closest(".kenedo-listing-form"),e=a.data("id"),d=a.data("active")?"unpublish":"publish";a.find(".fa").addClass("fa-spinner fa-spin");f.setListParameter(b,"task",d);f.setListParameter(b,"ids",e);f.refreshList(b)},onListTaskButtonClicked:function(a){var b=c(this),e=b.data("task"),d=b.closest(".kenedo-listing-form"),h=d.data("view");a={btn:b,task:e,list:d,viewName:h,event:a};b.hasClass("disabled")||(b.addClass("disabled"),d.trigger("cbListTaskTriggered",
a))},onListTaskTriggered:function(a,b){switch(b.task){case "add":if(!1===0<b.list.closest(".intra-listing").length)a=f.getListParameter(b.list,"add-link"),a=f.base64UrlDecode(a),f.loadSubview(a);else{a=b.list.closest(".kenedo-details-form");var e=f.getListParameter(b.list,"controller"),d=f.getListParameter(b.list,"foreignKeyField"),h=f.getListParameter(b.list,"foreignKeyPresetValue");f.openDetailsFormModal(b.list,a,e,"edit",0,d,h)}b.btn.removeClass("disabled");break;case "copy":case "remove":case "delete":a=
f.getListParameter(b.list,"controller");e={ids:f.getCheckedListItemIds(b.list).join(",")};l.makeRequest(a,b.task,e).then(function(g,m,r){b.list.trigger("cbListTaskResponseReceived",[r,b])});break;default:console.log('Unknown task "'+b.task+'"')}},onListTaskResponseReceived:function(a,b,e){e.btn.removeClass("disabled");try{var d=JSON.parse(b.responseText)}catch(g){console.warn('Could not parse JSON response. Response text was: "'+b.responseText+'"');console.warn("Error message follows:");console.warn(g);
return}switch(e.task){case "copy":case "remove":var h=e.list.data("view");f.refreshList(e.list,function(){e.list=c(".kenedo-view[data-view-id="+h+"]").find(".kenedo-listing-form");f.showResponseMessages(e.list,d.errors||[],d.messages||[])})}c(document).trigger("cbListTaskResponseReceivedGlobal",[b,e])},registerSubviewReadyFunction:function(a,b){"undefined"==typeof f.subviewReadyFunctions[a]&&(f.subviewReadyFunctions[a]=[]);f.subviewReadyFunctions[a].push(b)},runSubviewReadyFunctions:function(a){"undefined"!=
typeof f.subviewReadyFunctions[a]&&c.each(f.subviewReadyFunctions[a],function(b,e){"function"==typeof e&&e()})},toggleCheckboxes:function(){var a=c(".kenedo-listing .kenedo-check-all-items").prop("checked");c(this).closest(".kenedo-listing").find(".kenedo-item-checkbox").prop("checked",a)}},k={openingDelay:200,closingDelay:200,openers:[],closers:[],clearOpeners:function(){c.each(k.openers,function(a,b){"undefined"!=typeof b&&window.clearTimeout(b.timeout)});k.openers=[]},clearClosers:function(){c.each(k.closers,
function(a,b){"undefined"!=typeof b&&window.clearTimeout(b.timeout)});k.closers=[]},scheduleOpening:function(){var a=c(this).attr("id").replace("kenedo-popup-trigger-","");k.openers[a]&&window.clearTimeout(k.openers[a].timeout);k.openers[a]={popupId:a,timeout:window.setTimeout(function(){k.open(a)},k.openingDelay)}},scheduleClosing:function(){var a;c(this).is(".kenedo-popup")&&(a=c(this).attr("id").replace("kenedo-popup-",""));c(this).is(".kenedo-popup-trigger")&&(a=c(this).attr("id").replace("kenedo-popup-trigger-",
""));k.closers[a]&&window.clearTimeout(k.closers[a].timeout);k.closers[a]={popupId:a,timeout:window.setTimeout(function(){k.close(a)},k.closingDelay)}},cancelOpening:function(){var a;c(this).is(".kenedo-popup")&&(a=c(this).attr("id").replace("kenedo-popup-",""));c(this).is(".kenedo-popup-trigger")&&(a=c(this).attr("id").replace("kenedo-popup-trigger-",""));k.openers[a]&&window.clearTimeout(k.openers[a].timeout)},cancelClosing:function(){var a;c(this).is(".kenedo-popup")&&(a=c(this).attr("id").replace("kenedo-popup-",
""));c(this).is(".kenedo-popup-trigger")&&(a=c(this).attr("id").replace("kenedo-popup-trigger-",""));k.closers[a]&&window.clearTimeout(k.closers[a].timeout)},open:function(a){var b=c("#kenedo-popup-original-"+a).clone(!0);c("#kenedo-popup-"+a).remove();b.hide();b.attr("id","kenedo-popup-"+a);b.appendTo("body");k.position(a);b.fadeIn();c("#kenedo-popup-trigger-"+a).trigger("popup-open")},close:function(a){c("#kenedo-popup-"+a).fadeOut(200,function(){c(this).remove()});c("#kenedo-popup-trigger-"+a).trigger("popup-close")},
position:function(a){var b=c("#kenedo-popup-trigger-"+a);a=c("#kenedo-popup-"+a);a.css("visibility","hidden");a.css("display","block");c("body").append(a);var e=b.find(".kenedo-popup-trigger-content");b=e.outerWidth();var d=e.outerHeight(),h=e.offset(),g=a.find(".kenedo-popup-content").outerWidth(),m=a.find(".kenedo-popup-content").outerHeight(),r=Math.sqrt(1352)/2;a.outerWidth(g);a.outerHeight(m+r);var n=Math.max(document.documentElement.clientWidth,window.innerWidth||0);e=Math.max(document.documentElement.clientHeight,
window.innerHeight||0);var q=c("body").scrollTop(),u=c("body").scrollLeft(),t=h.left+b/2-g/2;b=h.top-m-r;d=h.top+d+r;m=d+m;0>t+u?(u=10+u,t-=u,h=document.createElement("style"),document.head.appendChild(h),h.sheet.insertRule(".kenedo-popup-content:before {left:"+t+"px;}",h.sheet.cssRules.length),h.sheet.insertRule(".kenedo-popup-content:after {left:"+t+"px;}",h.sheet.cssRules.length),t=u):(u=document.createElement("style"),document.head.appendChild(u),u.sheet.insertRule(".kenedo-popup-content:before {left:auto;}",
u.sheet.cssRules.length),u.sheet.insertRule(".kenedo-popup-content:after {left:auto;}",u.sheet.cssRules.length));g+t>n&&(u=n-g-10,t-=u,g=document.createElement("style"),document.head.appendChild(g),g.sheet.insertRule(".kenedo-popup-content:before {left:"+t+"px;}",g.sheet.cssRules.length),g.sheet.insertRule(".kenedo-popup-content:after {left:"+t+"px;}",g.sheet.cssRules.length),t=u);g=b>q;e=m<e+q;q=null;a.hasClass("position-prefer-top")&&g&&(q=!0);a.hasClass("position-prefer-bottom")&&e&&(q=!1);null===
q&&(q=g);q?(a.addClass("position-top").removeClass("position-bottom"),a.offset({left:t,top:b})):(a.addClass("position-bottom").removeClass("position-top"),a.offset({left:t,top:d}));a.css("display","none");a.css("visibility","visible");return a}},p={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){var b="",e=0;for(a=p._utf8_encode(a);e<a.length;){var d=a.charCodeAt(e++);var h=a.charCodeAt(e++);var g=a.charCodeAt(e++);var m=d>>2;d=(d&3)<<4|h>>4;var r=(h&
15)<<2|g>>6;var n=g&63;isNaN(h)?r=n=64:isNaN(g)&&(n=64);b=b+this._keyStr.charAt(m)+this._keyStr.charAt(d)+this._keyStr.charAt(r)+this._keyStr.charAt(n)}return b},decode:function(a){var b="",e=0;for(a=a.replace(/[^A-Za-z0-9\+\/=]/g,"");e<a.length;){var d=this._keyStr.indexOf(a.charAt(e++));var h=this._keyStr.indexOf(a.charAt(e++));var g=this._keyStr.indexOf(a.charAt(e++));var m=this._keyStr.indexOf(a.charAt(e++));d=d<<2|h>>4;h=(h&15)<<4|g>>2;var r=(g&3)<<6|m;b+=String.fromCharCode(d);64!=g&&(b+=String.fromCharCode(h));
64!=m&&(b+=String.fromCharCode(r))}return b=p._utf8_decode(b)},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b="",e=0;e<a.length;e++){var d=a.charCodeAt(e);128>d?b+=String.fromCharCode(d):(127<d&&2048>d?b+=String.fromCharCode(d>>6|192):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128)),b+=String.fromCharCode(d&63|128))}return b},_utf8_decode:function(a){for(var b="",e=0,d,h,g;e<a.length;)d=a.charCodeAt(e),128>d?(b+=String.fromCharCode(d),e++):191<d&&224>d?(h=a.charCodeAt(e+
1),b+=String.fromCharCode((d&31)<<6|h&63),e+=2):(h=a.charCodeAt(e+1),g=a.charCodeAt(e+2),b+=String.fromCharCode((d&15)<<12|(h&63)<<6|g&63),e+=3);return b}};return f});
