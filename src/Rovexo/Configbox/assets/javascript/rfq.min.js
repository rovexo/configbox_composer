var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,e,c){a instanceof String&&(a=String(a));for(var b=a.length,d=0;d<b;d++){var f=a[d];if(e.call(c,f,d,a))return{i:d,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,c){a!=Array.prototype&&a!=Object.prototype&&(a[e]=c.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,e,c,b){if(e){c=$jscomp.global;a=a.split(".");for(b=0;b<a.length-1;b++){var d=a[b];d in c||(c[d]={});c=c[d]}a=a[a.length-1];b=c[a];e=e(b);e!=b&&null!=e&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:e})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");
define(["cbj","configbox/customerform","configbox/server"],function(a,e,c){var b={initRfqPage:function(){a(document).on("click",".view-rfq .trigger-request-quotation",b.onQuoteRequested)},onQuoteRequested:function(){var d=a(this);if(!d.hasClass("processing")){d.addClass("processing");var b=e.getCustomerFormData();b.cartId=d.closest(".view-rfq").data("cart-id");b.comment=d.closest(".view-rfq").find("#comment").val();c.makeRequest("rfq","processQuotationRequest",b).always(function(){d.removeClass("processing")}).done(function(a){!1===
a.success?"undefined"!=typeof a.validationIssues&&a.validationIssues.length?e.displayValidationIssues(a.validationIssues):window.alert(a.errors.join("\n")):(e.removeValidationIssues(),a.redirectUrl&&(window.location.href=a.redirectUrl))})}}};return b});
