var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,c,b){a instanceof String&&(a=String(a));for(var e=a.length,d=0;d<e;d++){var k=a[d];if(c.call(b,k,d,a))return{i:d,v:k}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){a=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,a];for(var c=0;c<a.length;++c){var b=a[c];if(b&&b.Math==Math)return b}return globalThis};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,b,e){if(c){b=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var d=a[e];d in b||(b[d]={});b=b[d]}a=a[a.length-1];e=b[a];c=c(e);c!=e&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6","es3");
define("cbj configbox/server kenedo configbox/calcEditor configbox/calcmatrix configbox/calcCode".split(" "),function(a,c,b,e,d,k){var h={initCalcViewOnce:function(b){a(document).on("change",".view-admincalculation .property-name-product_id select",function(){if(a(this).val()){var b=a(this).closest(".view-admincalculation");b.find(".property-name-type").show();b.find(".property-name-type input:checked").change()}});a(document).on("change",".view-admincalculation .property-name-type input",function(){var b=
a(this).val();h.setRecordStoreHandler(b);var f=a(this).closest(".view-admincalculation"),e=f.find(".calc-type-subview").data("controller-"+b);if(!e)throw'Could not determine controller for calc type "'+b+'"';b=f.find("input[name=id]").val();var d=f.find(".property-name-product_id select[name=product_id]").val();d||(d=f.find(".property-name-product_id input[name=product_id]").val());f=f.find(".calc-type-subview");f.empty().html('<i class="fa fa-spinner fa-spin"></i>');c.injectHtml(f,e,"edit",{id:b,
productId:d})})},initCalcViewEach:function(b){b=b.find(".kenedo-details-form");var c=a(".view-admincalculation .property-name-type input:checked").val();if(!0===b.hasClass("default-handlers-attached"))h.setRecordStoreHandler(c);else b.on("cbDefaultHandlersAttached",function(){h.setRecordStoreHandler(c)})},setRecordStoreHandler:function(c){var g=a(".view-admincalculation"),f=g.find(".trigger-kenedo-form-task[data-task=apply]");g=g.find(".trigger-kenedo-form-task[data-task=store]");f.off("click");g.off("click");
switch(c){case "matrix":f.on("click",d.onStoreMatrix);g.on("click",d.onStoreMatrix);break;case "formula":f.on("click",e.onStoreCalculation);g.on("click",e.onStoreCalculation);break;case "code":f.on("click",b.onFormTaskButtonClicked),g.on("click",b.onFormTaskButtonClicked)}}};return h});
