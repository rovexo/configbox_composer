var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,e,f){a instanceof String&&(a=String(a));for(var k=a.length,h=0;h<k;h++){var r=a[h];if(e.call(f,r,h,a))return{i:h,v:r}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,f){if(a==Array.prototype||a==Object.prototype)return a;a[e]=f.value;return a};$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var e=0;e<a.length;++e){var f=a[e];if(f&&f.Math==Math)return f}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,e){var f=$jscomp.propertyToPolyfillSymbol[e];if(null==f)return a[e];f=a[f];return void 0!==f?f:a[e]};
$jscomp.polyfill=function(a,e,f,k){e&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,e,f,k):$jscomp.polyfillUnisolated(a,e,f,k))};$jscomp.polyfillUnisolated=function(a,e,f,k){f=$jscomp.global;a=a.split(".");for(k=0;k<a.length-1;k++){var h=a[k];if(!(h in f))return;f=f[h]}a=a[a.length-1];k=f[a];e=e(k);e!=k&&null!=e&&$jscomp.defineProperty(f,a,{configurable:!0,writable:!0,value:e})};
$jscomp.polyfillIsolated=function(a,e,f,k){var h=a.split(".");a=1===h.length;k=h[0];k=!a&&k in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var r=0;r<h.length-1;r++){var t=h[r];if(!(t in k))return;k=k[t]}h=h[h.length-1];f=$jscomp.IS_SYMBOL_NATIVE&&"es6"===f?k[h]:null;e=e(f);null!=e&&(a?$jscomp.defineProperty($jscomp.polyfills,h,{configurable:!0,writable:!0,value:e}):e!==f&&(void 0===$jscomp.propertyToPolyfillSymbol[h]&&($jscomp.propertyToPolyfillSymbol[h]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(h):
$jscomp.POLYFILL_PREFIX+h),$jscomp.defineProperty(k,$jscomp.propertyToPolyfillSymbol[h],{configurable:!0,writable:!0,value:e})))};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(e,f){return $jscomp.findInternal(this,e,f).v}},"es6","es3");
define(["cbj","configbox/configurator"],function(a,e){var f={init:function(){cbrequire(["kenedo","configbox/server"],function(b,c){b.addStylesheet(c.config.urlSystemAssets+"/kenedo/external/jquery.spectrum-1.8.0/spectrum.css")});cbrequire(["cbj.spectrum"],function(){a(document).on("click",".question.type-colorpicker .trigger-show-colorpicker, .question.type-colorpicker .color-picker-output",function(){!0!==a(this).closest(".question.type-colorpicker").hasClass("non-applying-question")&&a(this).closest(".question.type-colorpicker").find(".wrapper-flat-spectrum").slideToggle()});
a(document).on("keyup",".cb-spectrum .sp-input",function(){var b=a(this).val();7===b.length&&a(".sp-active").closest(".question.type-colorpicker").find(".color-picker-input").spectrum("set",b).trigger("change")})})},initEach:function(){cbrequire(["cbj.spectrum"],function(){a(".question.type-colorpicker .spectrum-input").each(function(){a(this).hasClass("initialized")||(a(this).addClass("initialized"),a(this).spectrum({flat:!0,showInput:!0,showInitial:!1,allowEmpty:!1,showAlpha:!1,disabled:!1,showPalette:!0,
showPaletteOnly:!1,togglePaletteOnly:!1,showSelectionPalette:!0,clickoutFiresChange:!1,cancelText:"",chooseText:"",containerClassName:"cb-spectrum",replacerClassName:"cb-replacer form-control",preferredFormat:"hex",change:function(b){var c=a(this).closest(".question.type-colorpicker").data("questionId");b=b.toHexString();a(this).closest(".question.type-colorpicker").find(".color-picker-output").css("background-color",b);e.sendSelectionToServer(c,b)},move:function(b){var c=a(this);f.timeout=f.timeout||
null;f.timeout&&window.clearTimeout(f.timeout);f.timeout=window.setTimeout(function(){a(c).closest(".question.type-colorpicker").find(".color-picker-output").css("background-color",b.toHexString());var d=a(c).closest(".question.type-colorpicker").data("questionId"),g=b.toHexString();e.sendSelectionToServer(d,g)},400)}}))})})},onSystemSelectionChange:function(b,c,d){a("#question-"+c).find(".spectrum-input").spectrum("set",d);a("#question-"+c).find(".color-picker-output").css("background-color",d)},
onQuestionActivation:function(b,c){},onQuestionDeactivation:function(b,c){a("#question-"+c).find(".color-picker-output").css("background-color","transparent");a("#question-"+c).find(".wrapper-flat-spectrum").slideUp()},onAnswerActivation:function(b,c,d){},onAnswerDeactivation:function(b,c,d){},onValidationChange:function(b,c,d){},onValidationMessageShown:function(b,c,d){b=a("#question-"+c);0!==b.length&&!1!==b.is(".type-colorpicker")&&(b.find(".form-group").addClass("has-error"),b.find(".validation-message-target").html(d).show())},
onValidationMessageCleared:function(b,c){b=a("#question-"+c);0!==b.length&&!1!==b.is(".type-colorpicker")&&(b.find(".form-group").removeClass("has-error"),b.find(".validation-message-target").html("").hide())}},k={init:function(){},initEach:function(){a(".question.type-textbox").each(function(){if(!a(this).hasClass("initialized")){a(this).addClass("initialized");var b=a(this).data("questionId");a("#input-question-"+b).on("keyup",function(){var c=a(this);k.timeout=k.timeout||null;k.timeout&&window.clearTimeout(k.timeout);
k.timeout=window.setTimeout(function(){e.sendSelectionToServer(b,c.val())},400)})}})},onSystemSelectionChange:function(b,c,d){a("#input-question-"+c).val(d)},onQuestionActivation:function(b,c){a("#input-question-"+c).prop("disabled",!1)},onQuestionDeactivation:function(b,c){a("#input-question-"+c).prop("disabled",!0).val("")},onAnswerActivation:function(b,c){},onAnswerDeactivation:function(b,c,d){},onValidationChange:function(b,c,d){},onValidationMessageShown:function(b,c,d){b=a("#question-"+c);0!==
b.length&&!1!==a("#question-"+c).is(".type-textbox")&&(b.find(".form-group").addClass("has-error"),b.find(".validation-message-target").html(d).show())},onValidationMessageCleared:function(b,c){b=a("#question-"+c);0!==b.length&&!1!==a("#question-"+c).is(".type-textbox")&&(b.find(".form-group").removeClass("has-error"),b.find(".validation-message-target").html("").hide())}},h={init:function(){},initEach:function(){a(".question.type-textarea").each(function(){if(!a(this).hasClass("initialized")){a(this).addClass("initialized");
var b=a(this).data("questionId");a("#input-question-"+b).on("keyup",function(){var c=a(this);h.timeout=h.timeout||null;h.timeout&&window.clearTimeout(h.timeout);h.timeout=window.setTimeout(function(){e.sendSelectionToServer(b,c.val())},400)})}})},onSystemSelectionChange:function(b,c,d){a("#input-question-"+c).val(d)},onQuestionActivation:function(b,c){a("#input-question-"+c).prop("disabled",!1)},onQuestionDeactivation:function(b,c){a("#input-question-"+c).prop("disabled",!0).val("")},onAnswerActivation:function(b,
c){},onAnswerDeactivation:function(b,c,d){},onValidationChange:function(b,c,d){},onValidationMessageShown:function(b,c,d){b=a("#question-"+c);0!==b.length&&!1!==a("#question-"+c).is(".type-textarea")&&(b.find(".form-group").addClass("has-error"),b.find(".validation-message-target").html(d).show())},onValidationMessageCleared:function(b,c){b=a("#question-"+c);0!==b.length&&!1!==a("#question-"+c).is(".type-textarea")&&(b.find(".form-group").removeClass("has-error"),b.find(".validation-message-target").html("").hide())}},
r={init:function(){},initEach:function(){cbrequire(["cbj.ui"],function(){cbrequire(["cbj.touchpunch"],function(){a(".question.type-slider").each(function(){if(!a(this).hasClass("initialized")){a(this).addClass("initialized");var b=a(this),c=b.data("questionId"),d={slide:function(l,m){a("#input-question-"+c).val(m.value)},change:function(l,m){a("#input-question-"+c).val(m.value);m.value!=b.data("selection")&&e.sendSelectionToServer(c,m.value)},animate:!0,value:b.data("selection")};if(1==e.getQuestionPropValue(c,
"validate")){var g=e.getQuestionPropValue(c,"minval"),p=e.getQuestionPropValue(c,"maxval");null!==g&&(d.min=parseFloat(g));null!==p&&(d.max=parseFloat(p))}g=parseFloat(e.getQuestionPropValue(c,"slider_steps"));"number"===typeof g&&0!==g&&(d.step=g);0!==a(this).find("#cb-slider-"+c).length&&(a(this).find("#cb-slider-"+c)[0].slide=null);a(this).find("#cb-slider-"+c).slider(d);a("#input-question-"+c).keyup(function(){var l=a(this),m=l.val(),u=a("#cb-slider-"+c);l.removeClass("invalid");"undefined"!==
typeof r.timeout&&window.clearTimeout(r.timeout);r.timeout=window.setTimeout(function(){var q=e.getQuestionPropValue(c,"minval"),n=e.getQuestionPropValue(c,"maxval");!0===isNaN(parseFloat(m))?l.addClass("invalid"):(null!==q&&(q=parseFloat(q)),null!==n&&(n=parseFloat(n)),m=parseFloat(m),null!==q&&m<q?l.addClass("invalid"):null!==n&&m>n?l.addClass("invalid"):u.slider("value",parseFloat(m)))},500)})}})})})},onSystemSelectionChange:function(b,c,d){!1!==a("#question-"+c).is(".type-slider")&&(d=null===
d||""===d?0:Number(d),0!==d||!1!==e.getQuestionPropValue(c,"applies"))&&(b=Number(a("#cb-slider-"+c).slider("value")),d!==b&&a("#cb-slider-"+c).slider("value",d))},onQuestionActivation:function(b,c){},onQuestionDeactivation:function(b,c){},onAnswerActivation:function(b,c,d){},onAnswerDeactivation:function(b,c,d){},onValidationChange:function(b,c,d){},onValidationMessageShown:function(b,c,d){b=a("#question-"+c);0!==b.length&&!1!==a("#question-"+c).is(".type-slider")&&(b.find(".form-group").addClass("has-error"),
b.find(".validation-message-target").html(d).show())},onValidationMessageCleared:function(b,c){b=a("#question-"+c);0!==b.length&&!1!==a("#question-"+c).is(".type-slider")&&(b.find(".form-group").removeClass("has-error"),b.find(".validation-message-target").html("").hide())}},t={init:function(){a(document).on("click",".question.type-upload .trigger-remove-file",function(){a(this).closest(".question").find(".upload-current-file").removeClass("has-file");a(this).closest(".question").find(".upload-current-file .file-name").text("");
a(this).closest(".question").data("file-contents","");a(this).closest(".question").data("file-url","");var b=a(this).closest(".question").data("questionId");e.sendSelectionToServer(b,"")});a(document).on("click",".question.type-upload .trigger-show-file-browser",function(){a(this).closest(".question").find('input[type="file"]').click()});a(document).on("change",".question.type-upload input[type=file]",function(){a(this).closest(".question").find(".upload-drop-zone").trigger("drop")});a(document).on("cbSelectionChange",
t.onSystemSelectionChange)},initEach:function(){a(".question.type-upload").each(function(){if(!a(this).hasClass("initialized")){a(this).addClass("initialized");var b=a(this),c=a(this).data("questionId"),d=a("#question-"+c+" .upload-drop-zone");d.on("drag dragstart dragend dragover dragenter dragleave drop",function(g){g.preventDefault();g.stopPropagation()}).on("dragover dragenter",function(){!1===b.hasClass("non-applying-question")&&d.addClass("is-dragover")}).on("dragleave dragend drop",function(){d.removeClass("is-dragover")}).on("drop",
function(g){if(!b.hasClass("non-applying-question")){var p=g.originalEvent&&g.originalEvent.dataTransfer?g.originalEvent.dataTransfer.files:a("#question-"+c+" input[type=file]")[0].files;if(1!==p.length)t.onValidationMessageShown(null,c,"Please upload one file only.");else{t.onValidationMessageCleared(null,c);var l=new window.FileReader;l.addEventListener("load",function(){b.data("file-contents",l.result);b.data("file-url",l.result)},!1);l.readAsDataURL(p[0]);b.data("file",p[0]);var m=new FormData;
g={option:"com_configbox",controller:"configuratorpage",task:"makeSelection",display_mode:"view_only",questionId:c,selection:JSON.stringify({name:p[0].name,size:p[0].size,type:p[0].type}),confirmed:!1,cart_position_id:e.getCartPositionId(),productId:e.getProductId(),pageId:e.getPageId()};for(var u in g)g.hasOwnProperty(u)&&m.append(u,g[u]);m.append("file",p[0]);var q=new XMLHttpRequest;q.addEventListener("progress",function(n){n=Math.min(100,Math.floor((n.position||n.loaded)/p[0].size*1E3)/10);d.find(".drop-zone-percentage").text(n+
"%");d.find(".drop-zone-progress").css("width",n+"%")},!1);q.addEventListener("readystatechange",function(){if(q.readyState===XMLHttpRequest.DONE){var n=JSON.parse(q.responseText);if("undefined"===typeof n.error||""===n.error)a("#question-"+c+" .upload-current-file").addClass("has-file"),a("#question-"+c+" .upload-current-file .file-list").show().find(".file-name").text(p[0].name);a(document).trigger("serverResponseReceived",[n])}});cbrequire(["configbox/server"],function(n){q.open("post",n.config.urlXhr,
!0);q.send(m)})}}})}})},onSystemSelectionChange:function(b,c,d){!1!==a("#question-"+c).is(".type-upload")&&(d?a("#question-"+c).data("selection",JSON.parse(d)):(a("#question-"+c).data("file-contents",""),a("#question-"+c).data("file-url",""),a("#question-"+c).data("file",""),a("#question-"+c+" .upload-current-file").removeClass("has-file"),a("#question-"+c+" .upload-current-file .file-name").text("")))},onQuestionActivation:function(b,c){a("#question-"+c+" .trigger-show-file-browser").prop("disabled",
!1);a("#question-"+c+" .upload-current-file").removeClass("has-file");a("#question-"+c+" .upload-current-file .file-name").text("")},onQuestionDeactivation:function(b,c){a("#question-"+c+" .upload-current-file").removeClass("has-file");a("#question-"+c+" .upload-current-file .file-name").text("");a("#question-"+c+" .trigger-show-file-browser").prop("disabled",!0)},onAnswerActivation:function(b,c){},onAnswerDeactivation:function(b,c,d){},onValidationChange:function(b,c,d){},onValidationMessageShown:function(b,
c,d){b=a("#question-"+c);0!==b.length&&!1!==a("#question-"+c).is(".type-upload")&&(b.find(".form-group").addClass("has-error"),b.find(".validation-message-target").html(d).show())},onValidationMessageCleared:function(b,c){b=a("#question-"+c);0!==b.length&&!1!==a("#question-"+c).is(".type-upload")&&(b.find(".form-group").removeClass("has-error"),b.find(".validation-message-target").html("").hide())}};e.registerQuestion("calendar",{init:function(){},initEach:function(){cbrequire(["cbj.ui"],function(){a(".question.type-calendar").each(function(){var b=
a(this);if(!b.hasClass("initialized")){b.addClass("initialized");var c=b.data("questionId"),d=a("#input-"+c),g={showOn:"button",dateFormat:"yy-mm-dd",altField:"#output-helper-"+c,altFormat:e.getConfiguratorData("dateFormat"),minDate:e.getQuestionPropValue(c,"minval"),maxDate:e.getQuestionPropValue(c,"maxval"),onSelect:function(p){d.datepicker("destroy");window.setTimeout(function(){b.find(".pseudo-text-field").text(a("#output-helper-"+c).val())},200);e.sendSelectionToServer(c,p)}};a(this).find(".trigger-show-calendar").on("click",
function(){b.hasClass("non-applying-question")||(d.hasClass("hasDatepicker")?d.datepicker("destroy"):d.datepicker(g).datepicker("setDate",b.data("selection")))})}})})},onSystemSelectionChange:function(b,c,d){!1!==a("#question-"+c).is(".type-calendar")&&a("#input-"+c).datepicker("setDate",d)},onQuestionActivation:function(b,c){},onQuestionDeactivation:function(b,c){a("#input-"+c).datepicker("setDate",null);a("#input-"+c).datepicker("refresh");window.setTimeout(function(){a("#question-"+c).find(".form-control-static").text(a("#output-helper-"+
c).val())},200)},onAnswerActivation:function(b,c,d){},onAnswerDeactivation:function(b,c,d){},onValidationChange:function(b,c,d){a(".input-"+c).datepicker("option","minDate",d.minval);a(".input-"+c).datepicker("option","maxDate",d.maxval);a(".input-"+c).datepicker("refresh")},onValidationMessageShown:function(b,c,d){b=a("#question-"+c);0!==b.length&&!1!==b.is(".type-calendar")&&(b.find(".form-group").addClass("has-error"),b.find(".validation-message-target").html(d).show())},onValidationMessageCleared:function(b,
c){b=a("#question-"+c);0!==b.length&&!1!==b.is(".type-calendar")&&(b.find(".form-group").removeClass("has-error"),b.find(".validation-message-target").html("").hide())}});e.registerQuestion("colorpicker",f);e.registerQuestion("ralcolorpicker",{init:function(){a(document).on("click",".ral-color-picker-output",function(){a(this).closest(".question").find(".trigger-show-ralcolorpicker").trigger("click")});a(document).on("click",".trigger-show-ralcolorpicker",function(){var b=a(this).closest(".question");
b.hasClass("applying-question")&&cbrequire(["cbj.bootstrap"],function(){b.find(".modal").modal()})});a(document).on("click",".close-modal",function(){var b=a(this).closest(".question");cbrequire(["cbj.bootstrap"],function(){b.find(".modal").modal("hide")})});a(document).on("change","select.ral-color-group",function(){var b=parseInt(a(this).val());!0===isNaN(b)&&(b=0);a(this).closest(".question").data("selection-group-id",b);0===b?a(this).closest(".question").find(".ral-color").show():(a(this).closest(".question").find(".ral-color").hide(),
a(this).closest(".question").find('.ral-color[data-group-id="'+b+'"]').show())});a(document).on("click",".trigger-pick-ral-color",function(){var b=a(this),c="RAL "+b.data("color-id"),d=b.data("hex"),g=b.data("group-id"),p=b.hasClass("is-dark"),l=a(this).closest(".question"),m=l.data("question-id");l.data("selection-group-id",g);l.find(".ral-color-input").val(c);g=l.find(".ral-color-picker-output");g.css("background-color",d);p?g.addClass("is-dark"):g.removeClass("is-dark");g.text(b.text());cbrequire(["cbj.bootstrap"],
function(){l.find(".modal").modal("hide")});e.sendSelectionToServer(m,c)})},initEach:function(){},onSystemSelectionChange:function(b,c,d){c=a("#question-"+c);if("ralcolorpicker"===c.data("question-type"))if(b=c.find(".ral-color-picker-output"),d){d=d.split(" ")[1];var g=c.find('.modal .ral-color[data-color-id="'+d+'"]');d=g.data("hex");c=g.text();g=g.hasClass("is-dark");b.css("background-color",d);b.removeClass("is-dark");g&&b.addClass("is-dark");b.text(c)}else b.css("background-color","transparent"),
b.text("")},onQuestionActivation:function(b,c){},onQuestionDeactivation:function(b,c){},onAnswerActivation:function(b,c,d){},onAnswerDeactivation:function(b,c,d){},onValidationChange:function(b,c,d){},onValidationMessageShown:function(b,c,d){b=a("#question-"+c);0!==b.length&&!1!==b.is(".type-ralcolorpicker")&&(b.find(".form-group").addClass("has-error"),b.find(".validation-message-target").html(d).show())},onValidationMessageCleared:function(b,c){b=a("#question-"+c);0!==b.length&&!1!==b.is(".type-ralcolorpicker")&&
(b.find(".form-group").removeClass("has-error"),b.find(".validation-message-target").html("").hide())}});e.registerQuestion("checkbox",{init:function(){a(document).on("change",".question.type-checkbox input[type=checkbox]",function(){var b=a(this).closest(".question").data("question-id"),c=a(this).closest(".answer"),d=!0===a(this).prop("checked")?a(this).val():"";d?c.addClass("selected"):c.removeClass("selected");e.sendSelectionToServer(b,d)})},initEach:function(){},onSystemSelectionChange:function(b,
c,d){!1!==a("#question-"+c).is(".type-checkbox")&&(b=!(""===d||0===d||null===d),a("#answer-input-"+d).prop("checked",b))},onQuestionActivation:function(b,c){a("#question-"+c+" input[type=checkbox]").prop("disabled",!1)},onQuestionDeactivation:function(b,c){a("#question-"+c+" input[type=checkbox]").prop("checked",!0).prop("disabled",!0)},onAnswerActivation:function(b,c,d){a("#answer-input-"+d).prop("disabled",!1)},onAnswerDeactivation:function(b,c,d){a("#answer-input-"+d).prop("disabled",!0).prop("checked",
!1)},onValidationChange:function(b,c,d){},onValidationMessageShown:function(b,c,d){b=a("#question-"+c);0!==b.length&&!1!==a("#question-"+c).is(".type-checkbox")&&(b.find(".form-group").addClass("has-error"),b.find(".validation-message-target").html(d).show())},onValidationMessageCleared:function(b,c){b=a("#question-"+c);0!==b.length&&!1!==a("#question-"+c).is(".type-checkbox")&&(b.find(".form-group").removeClass("has-error"),b.find(".validation-message-target").html("").hide())}});e.registerQuestion("choices",
{init:function(){a(".question.type-choices").each(function(){if(!a(this).hasClass("initialized")){a(this).addClass("initialized");var b=a(this).data("questionId");a(document).on("change","#question-"+b+" .configbox-choice-field",function(){var c=a(this).val();!1!==a(this).prop("checked")&&(a(this).closest(".radio").addClass("selected").siblings().removeClass("selected"),a("#question-"+b+" .configbox-choice-custom-field").val(""),e.sendSelectionToServer(b,c))});a("#question-"+b+" .configbox-choice-custom-field").data("lastVal",
a("#question-"+b+" .configbox-choice-custom-field").val());a(document).on("keyup","#question-"+b+" .configbox-choice-custom-field",function(){var c=a("#question-"+b+" .configbox-choice-custom-field").data("lastVal"),d=a(this).val();d!==c&&(a("#question-"+b+" input[type=radio").prop("checked",!1).closest("radio"),d?a(this).closest(".radio").find("input[type=radio]").prop("checked",!0):a("#question-"+b+" input[type=radio").prop("checked",!1),e.sendSelectionToServer(b,d))})}})},initEach:function(){},
onSystemSelectionChange:function(b,c,d){!1!==a("#question-"+c).is(".type-choices")&&(""!==d&&0!==d&&null!==d?a("#question-"+c+' .configbox-choice-field[value="'+d+'"]').length?(a("#question-"+c+' .configbox-choice-field[value="'+d+'"]').prop("checked",!0),a("#question-"+c+" .configbox-choice-custom-field").val(""),a("#question-"+c+' .configbox-choice-field[value="'+d+'"]').closest(".radio").addClass("selected").siblings().removeClass("selected")):(a("#question-"+c+" .configbox-choice-field").prop("checked",
!1),a("#question-"+c+" .configbox-choice-custom-field").val(d),a("#question-"+c+" .configbox-choice-custom-field").closest(".radio").find("input[type=radio]").prop("checked",!0)):(a("#question-"+c+" .configbox-choice-free-field").val(""),a("#question-"+c+" .input[type=radio]").prop("checked",!1)))},onQuestionActivation:function(b,c){a("#question-"+c+" input").prop("disabled",!1)},onQuestionDeactivation:function(b,c){a("#question-"+c+" input").prop("disabled",!0);a("#question-"+c+" input[type=text]").val("")},
onAnswerActivation:function(b,c,d){},onAnswerDeactivation:function(b,c,d){},onValidationChange:function(b,c,d){a("#question-"+c+" .configbox-choice-field").each(function(){var g=a(this).val();null!==d.minval&&g<d.minval||null!==d.maxval&&g>d.maxval?a(this).prop("disabled",!0):a(this).prop("disabled",!1)})},onValidationMessageShown:function(b,c,d){b=a("#question-"+c);0!==b.length&&!1!==a("#question-"+c).is(".type-choices")&&(b.find(".form-group").addClass("has-error"),b.find(".validation-message-target").html(d).show())},
onValidationMessageCleared:function(b,c){b=a("#question-"+c);0!==b.length&&!1!==a("#question-"+c).is(".type-choices")&&(b.find(".form-group").removeClass("has-error"),b.find(".validation-message-target").html("").hide())}});e.registerQuestion("dropdown",{init:function(){a(document).on("click",".configbox-dropdown-trigger",function(){a(this).toggle();a(this).closest(".question").find(".configbox-dropdown").toggle()});a(document).on("click",function(b){"undefined"===typeof b.target||a(b.target).is(".configbox-dropdown-trigger")||
0!==a(b.target).closest(".configbox-dropdown-trigger").length||(a(".configbox-dropdown:visible").closest(".question").find(".configbox-dropdown-trigger").show(),a(".configbox-dropdown").hide())});a(document).on("change",".question.type-dropdown .answer input",function(){var b=a(this).closest(".question").data("questionId"),c=a(this).closest(".answer").clone();c.find("input").remove();a(this).closest(".question").find(".configbox-dropdown-trigger").empty().append(c.find("label")).append(c.find(".answer-price-display"));
a(this).closest(".configbox-dropdown").hide();a(this).closest(".question").find(".configbox-dropdown-trigger").show();c=a(this).val();a("#answer-"+c).addClass("selected").siblings().removeClass("selected");e.sendSelectionToServer(b,c)});a(".question.type-dropdown").each(function(){a(this).data("triggerDefault",a(this).find(".configbox-dropdown-trigger").clone(!1));if(a(this).find(".selected").length){var b=a(this).find(".selected").clone();b.find("input").remove();a(this).find(".configbox-dropdown-trigger").empty().append(b.find("label")).append(b.find(".answer-price-display"))}})},
initEach:function(){},onSystemSelectionChange:function(b,c,d){!1!==a("#question-"+c).is(".type-dropdown")&&(null===d||0===d||"0"===d?(a("#question-"+c).find(".answer").removeClass("selected"),a("#question-"+c).find(".configbox-dropdown-trigger").replaceWith(a("#question-"+c).data("triggerDefault"))):(d=parseInt(d),a("#answer-input-"+d).prop("checked",!0),d?(a("#answer-"+d).addClass("selected").siblings().removeClass("selected"),b=a("#answer-"+d).clone(),b.find("input").remove(),a("#question-"+c).find(".configbox-dropdown-trigger").empty().append(b.find("label")).append(b.find(".answer-price-display"))):
(a("#answer-"+d).removeClass("selected"),a("#question-"+c).find(".configbox-dropdown-trigger").replaceWith(a("#question-"+c).data("triggerDefault")))))},onQuestionActivation:function(b,c){a("#question-"+c+" input[type=radio]").prop("disabled",!1)},onQuestionDeactivation:function(b,c){a("#question-"+c+" input[type=radio]").prop("checked",!0).prop("disabled",!0)},onAnswerActivation:function(b,c,d){a("#answer-input-"+d).prop("disabled",!1)},onAnswerDeactivation:function(b,c,d){a("#answer-input-"+d).prop("disabled",
!0).prop("checked",!1)},onValidationChange:function(b,c,d){},onValidationMessageShown:function(b,c,d){b=a("#question-"+c);0!==b.length&&!1!==a("#question-"+c).is(".type-dropdown")&&(b.find(".form-group").addClass("has-error"),b.find(".validation-message-target").html(d).show())},onValidationMessageCleared:function(b,c){b=a("#question-"+c);0!==b.length&&!1!==a("#question-"+c).is(".type-dropdown")&&(b.find(".form-group").removeClass("has-error"),b.find(".validation-message-target").html("").hide())}});
e.registerQuestion("images",{init:function(){a(document).on("change",".question.type-images input[type=radio]",function(){if(!1!==a(this).prop("checked")){var b=a(this).closest(".question").data("question-id"),c=a(this).closest(".answer"),d=parseInt(a(this).val());c.addClass("selected").siblings().removeClass("selected");e.sendSelectionToServer(b,d)}});a(document).on("change",".question.type-images input[type=checkbox]",function(){var b=a(this).closest(".question").data("question-id"),c=a(this).closest(".answer"),
d=!0===a(this).prop("checked")?a(this).val():"";d?c.addClass("selected"):c.removeClass("selected");e.sendSelectionToServer(b,d)})},initEach:function(){},onSystemSelectionChange:function(b,c,d){!1!==a("#question-"+c).is(".type-images")&&(null===d||0===d||"0"===d?(a("#question-"+c).find(".answer").removeClass("selected"),a("#question-"+c).find(".answer input[type=radio]").prop("checked",!1)):(d=parseInt(d),a("#answer-"+d).addClass("selected").siblings().removeClass("selected"),a("#answer-input-"+d).prop("checked",
!0)))},onQuestionActivation:function(b,c){a("#question-"+c+" input[type=radio]").prop("disabled",!1)},onQuestionDeactivation:function(b,c){a("#question-"+c+" input[type=radio]").prop("checked",!0).prop("disabled",!0)},onAnswerActivation:function(b,c,d){a("#answer-input-"+d).prop("disabled",!1)},onAnswerDeactivation:function(b,c,d){a("#answer-input-"+d).prop("disabled",!0).prop("checked",!1)},onValidationChange:function(b,c,d){},onValidationMessageShown:function(b,c,d){b=a("#question-"+c);0!==b.length&&
!1!==a("#question-"+c).is(".type-images")&&(b.find(".form-group").addClass("has-error"),b.find(".validation-message-target").html(d).show())},onValidationMessageCleared:function(b,c){b=a("#question-"+c);0!==b.length&&!1!==a("#question-"+c).is(".type-images")&&(b.find(".form-group").removeClass("has-error"),b.find(".validation-message-target").html("").hide())}});e.registerQuestion("radiobuttons",{init:function(){a(document).on("change",".question.type-radiobuttons input[type=radio]",function(){if(!1!==
a(this).prop("checked")){var b=a(this).closest(".question").data("question-id"),c=a(this).closest(".answer"),d=parseInt(a(this).val());c.addClass("selected").siblings().removeClass("selected");e.sendSelectionToServer(b,d)}})},initEach:function(){},onSystemSelectionChange:function(b,c,d){a("#question-"+c).is(".type-radiobuttons")&&(a("#answer-"+d).addClass("selected").siblings().removeClass("selected"),b=!(""===d||0===d||null===d),a("#answer-input-"+d).prop("checked",b))},onQuestionActivation:function(b,
c){a("#question-"+c+" input[type=radio]").prop("disabled",!1)},onQuestionDeactivation:function(b,c){a("#question-"+c+" input[type=radio]").prop("checked",!1).prop("disabled",!0)},onAnswerActivation:function(b,c,d){a("#answer-input-"+d).prop("disabled",!1)},onAnswerDeactivation:function(b,c,d){a("#answer-"+d).removeClass("selected");a("#answer-input-"+d).prop("disabled",!0).prop("checked",!1)},onValidationChange:function(b,c,d){},onValidationMessageShown:function(b,c,d){b=a("#question-"+c);0!==b.length&&
!1!==a("#question-"+c).is(".type-radiobuttons")&&(b.find(".form-group").addClass("has-error"),b.find(".validation-message-target").html(d).show())},onValidationMessageCleared:function(b,c){b=a("#question-"+c);0!==b.length&&!1!==a("#question-"+c).is(".type-radiobuttons")&&(b.find(".form-group").removeClass("has-error"),b.find(".validation-message-target").html("").hide())}});e.registerQuestion("slider",r);e.registerQuestion("textbox",k);e.registerQuestion("textarea",h);e.registerQuestion("upload",
t)});
