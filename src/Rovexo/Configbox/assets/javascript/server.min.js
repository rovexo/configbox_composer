define(["cbj"],function(c){var b={config:{platformName:"",urlSystemAssets:"",urlCustomAssets:"",urlBase:"",urlTinyMceBase:"",languageCode:"",languageTag:"",decimalSymbol:"",thousandsSeparator:"",cacheVar:"",urlXhr:"",useMinifiedJs:!0,useMinifiedCss:!0,useAssetsCacheBuster:!0,requireCustomJs:!0,requireCustomQuestionJs:!0},injectHtml:function(a,g,f,d,e){d=d||{};d.option="com_configbox";d.controller=g;d.task=f;d.output_mode="view_only";("string"===typeof a?c(a):a).load(b.config.urlXhr,d,function(){c(document).trigger("cbViewInjected");
e&&e()})},replaceHtml:function(a,g,f,d){d=d||{};d.option="com_configbox";d.controller=g;d.task=f;d.output_mode="view_only";var e="string"===typeof a?c(a):a;return c.ajax({url:b.config.urlXhr,data:d,processData:!0,dataType:"html",type:"post"}).done(function(a){e.replaceWith(a);c(document).trigger("cbViewInjected")})},makeRequest:function(a,g,f){if("string"!==typeof a||"string"!==typeof g)throw"1st and 2nd parameter needs to be a string";if("undefined"!==typeof f&&"object"!==typeof f)throw"3rd parameter needs to be a flat array or object consisting of strings";
var d=!1;"undefined"!==typeof f&&c.each(f,function(a,b){b instanceof File&&(d=!0);b instanceof FileList&&(d=!0)});if(!0===d){var e=new FormData;e.append("lang",b.config.languageCode);e.append("option","com_configbox");e.append("controller",a);e.append("task",g);e.append("output_mode","view_only");c.each(f,function(a,b){b instanceof FileList?e.append(a,b[0]):e.append(a,b)});return c.ajax({url:b.config.urlXhr,data:e,processData:!1,contentType:!1,dataType:"json",type:"post"})}e={lang:b.config.languageCode,
option:"com_configbox",controller:a,task:g,output_mode:"view_only"};"undefined"!==typeof f&&c.each(f,function(a,b){e[a]=b});return c.ajax({url:b.config.urlXhr,data:e,dataType:"json",type:"post"})},checkoutCart:function(a){return c.ajax({url:b.config.urlXhr,data:{lang:b.config.languageCode,option:"com_configbox",controller:"cart",task:"checkoutCart",output_mode:"view_only",cartId:a},dataType:"json",type:"post"})},updateCartPositionQuantity:function(a,g){return c.ajax({url:b.config.urlXhr,data:{lang:b.config.languageCode,
option:"com_configbox",controller:"cart",task:"setCartPositionQuantity",output_mode:"view_only",cart_position_id:a,quantity:g},dataType:"json",type:"post"})},setPaymentOption:function(a){return c.ajax({url:b.config.urlXhr,data:{lang:b.config.languageCode,option:"com_configbox",controller:"checkout",task:"storePaymentOption",output_mode:"view_only",id:a},dataType:"json",type:"post"})},setDeliveryOption:function(a){return c.ajax({url:b.config.urlXhr,data:{lang:b.config.languageCode,option:"com_configbox",
controller:"checkout",task:"storeDeliveryOption",output_mode:"view_only",id:a},dataType:"json",type:"post"})},placeOrder:function(){return c.ajax({url:b.config.urlXhr,data:{lang:b.config.languageCode,option:"com_configbox",controller:"checkout",task:"placeOrder",output_mode:"view_only"},dataType:"json",type:"post"})},prepareQuote:function(a){return c.ajax({url:b.config.urlXhr,data:{lang:b.config.languageCode,option:"com_configbox",controller:"rfq",task:"createQuotation",output_mode:"view_only",cartId:a},
dataType:"json",type:"get"})},requestLogin:function(a,g){return c.ajax({url:b.config.urlXhr,data:{lang:b.config.languageCode,option:"com_configbox",controller:"user",task:"loginUser",output_mode:"view_only",username:a,password:g},dataType:"json",type:"post",context:c(this)})},requestLogout:function(){return c.ajax({url:b.config.urlXhr,data:{lang:b.config.languageCode,option:"com_configbox",controller:"user",task:"logoutUser",output_mode:"view_only"},dataType:"json",type:"post",context:c(this)})},
requestPasswordChangeVerificationCode:function(a){return c.ajax({url:b.config.urlXhr,data:{lang:b.config.languageCode,option:"com_configbox",controller:"user",task:"sendPasswordChangeVerificationCode",output_mode:"view_only",email:a},dataType:"json",type:"post"})},requestPasswordChange:function(a,g,f){return c.ajax({url:b.config.urlXhr,data:{lang:b.config.languageCode,option:"com_configbox",controller:"user",task:"changePasswordWithCode",output_mode:"view_only",code:a,password:g,login:!0===f?"1":
"0"},dataType:"json",type:"post"})},storeOrderAddress:function(a){a.option="com_configbox";a.controller="checkout";a.task="storeOrderAddress";a.output_mode="view_only";a.lang=b.config.languageCode;return c.ajax({url:b.config.urlXhr,data:a,dataType:"json",type:"post"})},api:{makeRequest:function(a,c,f){window.console.log("Go use makeRequest instead of api.makeRequest");return b.makeRequest(a,c,f)}}};document.getElementById("cb-require-tag")?b.config=JSON.parse(document.getElementById("cb-require-tag").dataset.appConfig):
document.getElementById("cb-main-file-tag")&&(b.config=JSON.parse(document.getElementById("cb-main-file-tag").dataset.appConfig));return b});
