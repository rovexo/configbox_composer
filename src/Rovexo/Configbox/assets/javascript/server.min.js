define(["cbj"],function(c){var b={config:{platformName:"",urlSystemAssets:"",urlCustomAssets:"",urlBase:"",urlTinyMceBase:"",languageCode:"",languageTag:"",decimalSymbol:"",thousandsSeparator:"",cbVersion:"",cacheVar:"",urlXhr:"",useMinifiedJs:!0,useMinifiedCss:!0,useAssetsCacheBuster:!0},injectHtml:function(a,f,e,g,d){g.option="com_configbox";g.controller=f;g.task=e;g.format="raw";("string"===typeof a?c(a):a).load(b.config.urlXhr,g,function(){c(document).trigger("cbViewInjected");d&&d()})},makeRequest:function(a,
f,e){if("string"!==typeof a||"string"!==typeof f)throw"1st and 2nd parameter needs to be a string";if("undefined"!==typeof e&&"object"!==typeof e)throw"3rd parameter needs to be a flat array or object consisting of strings";var g=!1;"undefined"!==typeof e&&c.each(e,function(a,b){b instanceof File&&(g=!0);b instanceof FileList&&(g=!0)});if(!0===g){var d=new FormData;d.append("lang",b.config.languageCode);d.append("option","com_configbox");d.append("controller",a);d.append("task",f);d.append("format",
"raw");c.each(e,function(b,a){a instanceof FileList?d.append(b,a[0]):d.append(b,a)});return c.ajax({url:b.config.urlXhr,data:d,processData:!1,contentType:!1,dataType:"json",type:"post"})}d={lang:b.config.languageCode,option:"com_configbox",controller:a,task:f,format:"raw"};"undefined"!==typeof e&&c.each(e,function(a,b){d[a]=b});return c.ajax({url:b.config.urlXhr,data:d,dataType:"json",type:"post"})},checkoutCart:function(a){return c.ajax({url:b.config.urlXhr,data:{lang:b.config.languageCode,option:"com_configbox",
controller:"cart",task:"checkoutCart",format:"json",cartId:a},dataType:"json",type:"post"})},updateCartPositionQuantity:function(a,f){return c.ajax({url:b.config.urlXhr,data:{lang:b.config.languageCode,option:"com_configbox",controller:"cart",task:"setCartPositionQuantity",format:"json",cart_position_id:a,quantity:f},dataType:"json",type:"post"})},setPaymentOption:function(a){return c.ajax({url:b.config.urlXhr,data:{lang:b.config.languageCode,option:"com_configbox",controller:"checkout",task:"storePaymentOption",
format:"raw",id:a},dataType:"json",type:"post"})},setDeliveryOption:function(a){return c.ajax({url:b.config.urlXhr,data:{lang:b.config.languageCode,option:"com_configbox",controller:"checkout",task:"storeDeliveryOption",format:"raw",id:a},dataType:"json",type:"post"})},placeOrder:function(){return c.ajax({url:b.config.urlXhr,data:{lang:b.config.languageCode,option:"com_configbox",controller:"checkout",task:"placeOrder",format:"raw"},dataType:"json",type:"post"})},prepareQuote:function(a){return c.ajax({url:b.config.urlXhr,
data:{lang:b.config.languageCode,option:"com_configbox",controller:"rfq",task:"createQuotation",format:"json",cartId:a},dataType:"json",type:"get"})},requestLogin:function(a,f){return c.ajax({url:b.config.urlXhr,data:{lang:b.config.languageCode,option:"com_configbox",controller:"user",task:"loginUser",format:"json",username:a,password:f},dataType:"json",type:"post",context:c(this)})},requestLogout:function(){return c.ajax({url:b.config.urlXhr,data:{lang:b.config.languageCode,option:"com_configbox",
controller:"user",task:"logoutUser",format:"json"},dataType:"json",type:"post",context:c(this)})},requestPasswordChangeVerificationCode:function(a){return c.ajax({url:b.config.urlXhr,data:{lang:b.config.languageCode,option:"com_configbox",controller:"user",task:"sendPasswordChangeVerificationCode",format:"raw",email:a},dataType:"json",type:"post"})},requestPasswordChange:function(a,f,e){return c.ajax({url:b.config.urlXhr,data:{lang:b.config.languageCode,option:"com_configbox",controller:"user",task:"changePasswordWithCode",
format:"json",code:a,password:f,login:!0===e?"1":"0"},dataType:"json",type:"post"})},storeOrderAddress:function(a){a.option="com_configbox";a.controller="checkout";a.task="storeOrderAddress";a.format="json";a.lang=b.config.languageCode;return c.ajax({url:b.config.urlXhr,data:a,dataType:"json",type:"post"})},api:{makeRequest:function(a,c,e){window.console.log("Go use makeRequest instead of api.makeRequest");return b.makeRequest(a,c,e)}}};document.getElementById("cb-require-tag")?b.config=JSON.parse(document.getElementById("cb-require-tag").dataset.appConfig):
document.getElementById("cb-main-file-tag")&&(b.config=JSON.parse(document.getElementById("cb-main-file-tag").dataset.appConfig));return b});
