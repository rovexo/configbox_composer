define(["cbj","configbox/customerform","configbox/server"],function(e,d,f){var b={initUserPage:function(){e(document).on("click",".view-user .trigger-store-customer-form",b.onSaveUserData)},onSaveUserData:function(){var c=e(this);if(!c.hasClass("processing")){c.addClass("processing");var b=d.getCustomerFormData();f.makeRequest("user","store",b).always(function(){c.removeClass("processing")}).done(function(a){!1===a.success?"undefined"!=typeof a.validationIssues&&a.validationIssues.length?d.displayValidationIssues(a.validationIssues):
window.alert(a.errors.join("\n")):(d.removeValidationIssues(),(a=c.closest(".view-user").data("url-after-store"))?window.location.href=a:console.log("No redirect URL defined for after storing user data."))})}}};return b});
